    Finished dev [unoptimized + debuginfo] target(s) in 0.22s
     Running target/debug/deps/btp-65f51c48e27f5010

running 1 test
[2m2019-10-29T09:38:02.660692+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: local.host
[2m2019-10-29T09:38:02.661989+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: example.parent
[2m2019-10-29T09:38:02.662214+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-11303997307999469441-1913268801530942093.sock"), db: 1, passwd: None } }    
[2m2019-10-29T09:38:02.662608+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-11303997307999469441-1913268801530942093.sock"), db: 2, passwd: None } }    
[2m2019-10-29T09:38:02.665430+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:02.665436+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:02.665578+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:02.665576+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:02.666630+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3010
[2m2019-10-29T09:38:02.666630+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3020
[2m2019-10-29T09:38:02.666908+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Settlement API listening on: 127.0.0.1:3011
[2m2019-10-29T09:38:02.666909+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Settlement API listening on: 127.0.0.1:3021
[2m2019-10-29T09:38:02.667118+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:02.667126+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:02.669776+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.669776+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.669878+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.669884+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.671142+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:02.671146+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:02.870034+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.870034+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.870190+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.870208+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.870951+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:02.870956+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.070991+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.070991+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.071140+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.071156+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.071854+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.071859+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.179709+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for bob_on_b: b4e72d46-2979-4bec-9ab0-53a13560355d    
[2m2019-10-29T09:38:03.182537+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d))]    
[2m2019-10-29T09:38:03.182698+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.bob_on_b": AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d)}    
[2m2019-10-29T09:38:03.182801+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account b4e72d46-2979-4bec-9ab0-53a13560355d (ILP address: example.parent.bob_on_b)    
[2m2019-10-29T09:38:03.183555+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49348 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.541362ms    
[2m2019-10-29T09:38:03.188193+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for a_on_b: 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.190598+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d)), ("example.parent.a_on_b", AccountId(46d90d67-fe14-4191-a2fe-77cf342a5232))]    
[2m2019-10-29T09:38:03.190732+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(46d90d67-fe14-4191-a2fe-77cf342a5232), b"example.parent.bob_on_b": AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d)}    
[2m2019-10-29T09:38:03.190857+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account 46d90d67-fe14-4191-a2fe-77cf342a5232 (ILP address: example.parent.a_on_b)    
[2m2019-10-29T09:38:03.191606+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49346 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.00038ms    
[2m2019-10-29T09:38:03.202554+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for alice_on_a: 998e8987-e4bc-4d17-81cf-278f12a0de36    
[2m2019-10-29T09:38:03.207219+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for b_on_a: b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.209592+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36)), ("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481))]    
[2m2019-10-29T09:38:03.209756+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36)), ("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481))]    
[2m2019-10-29T09:38:03.209754+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36), b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)}    
[2m2019-10-29T09:38:03.209882+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account 998e8987-e4bc-4d17-81cf-278f12a0de36 (ILP address: local.host.alice_on_a)    
[2m2019-10-29T09:38:03.209881+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36), b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)}    
[2m2019-10-29T09:38:03.209990+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account b5b4b87a-b880-4986-9bf5-e6830596d481 (ILP address: local.host.b_on_a)    
[2m2019-10-29T09:38:03.210123+00:00 [0m[35mTRACE[0m interledger_api::routes::accounts: Newly inserted account has a BTP URL configured, will try to connect    
[2m2019-10-29T09:38:03.210292+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connecting to ws://localhost:3020/ilp/btp    
[2m2019-10-29T09:38:03.210679+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49352 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 10.907114ms    
[2m2019-10-29T09:38:03.215231+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49357 "GET /ilp/btp HTTP/1.1" 101 "-" "-" 332.631Âµs    
[2m2019-10-29T09:38:03.215925+00:00 [0m[35mTRACE[0m interledger_btp::client: Connected to account b5b4b87a-b880-4986-9bf5-e6830596d481 (URI: ws://localhost:3020/ilp/btp), sending auth packet    
[2m2019-10-29T09:38:03.216283+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connected to account b5b4b87a-b880-4986-9bf5-e6830596d481's server    
[2m2019-10-29T09:38:03.216606+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Getting ILP address from parent account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.217118+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=afde6706-8b9e-4be6-960c-1adb5d884389 prepare.destination=peer.config from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.217399+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=afde6706-8b9e-4be6-960c-1adb5d884389 prepare.destination=peer.config from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: b5b4b87a-b880-4986-9bf5-e6830596d481, forwarding request to the next service    
[2m2019-10-29T09:38:03.217536+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=afde6706-8b9e-4be6-960c-1adb5d884389 prepare.destination=peer.config from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2423324962 to account b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.219083+00:00 [0m[34mDEBUG[0m interledger_btp::server: Got BTP connection for username: a_on_b    
[2m2019-10-29T09:38:03.223404+00:00 [0m[34mDEBUG[0m interledger_btp::server: Added connection for account a_on_b: (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.223850+00:00 [0m[34mDEBUG[0m interledger_btp::service: Unable to parse ILP packet from BTP packet (if this is the first time this appears, the packet was probably the auth response)    
[2m2019-10-29T09:38:03.223988+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2423324962 Prepare { destination: Address("peer.config"), amount: 0, expires_at: "2019-10-29T09:38:33.217+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 0 }    
[2m2019-10-29T09:38:03.224224+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2423324962 from account: a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.224706+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=39ebc1be-b8b9-4fab-9262-ef89a8435891 prepare.destination=peer.config prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b")    
[2m2019-10-29T09:38:03.224955+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=39ebc1be-b8b9-4fab-9262-ef89a8435891 prepare.destination=peer.config prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.225628+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2423324962    
[2m2019-10-29T09:38:03.225950+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=afde6706-8b9e-4be6-960c-1adb5d884389 prepare.destination=peer.config from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.226661+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Got ILDCP response from parent: Ok(IldcpResponse { ilp_address: "Address("example.parent.a_on_b")", asset_code: "XYZ", asset_scale: 9 })    
[2m2019-10-29T09:38:03.226763+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: ILP address is now: example.parent.a_on_b    
[2m2019-10-29T09:38:03.227005+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Asking for routes from Account { id: AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), username: Username("b_on_a"), ilp_address: Address("local.host.b_on_a"), asset_code: "XYZ", asset_scale: 9, max_packet_amount: 18446744073709551615, min_balance: None, ilp_over_http_url: None, ilp_over_http_incoming_token: None, ilp_over_http_outgoing_token: None, ilp_over_btp_url: Some("btp+ws://localhost:3020/ilp/btp"), ilp_over_btp_incoming_token: None, ilp_over_btp_outgoing_token: Some(SecretBytes(...)), settle_threshold: None, settle_to: None, routing_relation: Parent, round_trip_time: 500, packets_per_minute_limit: None, amount_per_minute_limit: None, settlement_engine_url: None }    
[2m2019-10-29T09:38:03.227185+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Setting ILP address to: example.parent.a_on_b    
[2m2019-10-29T09:38:03.227490+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=0816079c-4cc3-4dac-8c85-4bf8b0e4e9ac prepare.destination=peer.route.control from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.227677+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=0816079c-4cc3-4dac-8c85-4bf8b0e4e9ac prepare.destination=peer.route.control from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: b5b4b87a-b880-4986-9bf5-e6830596d481, forwarding request to the next service    
[2m2019-10-29T09:38:03.227836+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=0816079c-4cc3-4dac-8c85-4bf8b0e4e9ac prepare.destination=peer.route.control from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 528889586 to account b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.228606+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 528889586 Prepare { destination: Address("peer.route.control"), amount: 0, expires_at: "2019-10-29T09:38:33.227+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 23 }    
[2m2019-10-29T09:38:03.228833+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 528889586 from account: a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.229229+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route control request from account a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232): RouteControlRequest { mode: Sync, last_known_routing_table_id: "00000000000000000000000000000000", last_known_epoch: 0, features: [] }    
[2m2019-10-29T09:38:03.229377+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Checking whether account was previously listed as unavailable    
[2m2019-10-29T09:38:03.229587+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Sending individual route update to account: 46d90d67-fe14-4191-a2fe-77cf342a5232 for epochs from: 0 to: 0    
[2m2019-10-29T09:38:03.229863+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Set default route to account id: b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.229918+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=60d85317-bc79-4a63-a5f4-57c3be607ee1 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.230127+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=60d85317-bc79-4a63-a5f4-57c3be607ee1 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 254110459 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.230568+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.230983+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 254110459 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:33.229+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:03.231227+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 254110459 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.231360+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 528889586    
[2m2019-10-29T09:38:03.231677+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account b5b4b87a-b880-4986-9bf5-e6830596d481: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 0, from_epoch_index: 0, to_epoch_index: 0, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:03.231885+00:00 [0m[33m WARN[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route for a different global prefix: Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }    
[2m2019-10-29T09:38:03.232069+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 61b5401b15c9ab6ab99fece62ed5b9d1, epoch: 0    
[2m2019-10-29T09:38:03.232193+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 61b5401b15c9ab6ab99fece62ed5b9d1 to epoch: 0    
[2m2019-10-29T09:38:03.232323+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:03.232483+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=8fbf6804-1a4c-48fa-b107-4d0dd3f28c15 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.233072+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 254110459    
[2m2019-10-29T09:38:03.233313+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c0ec92e-11b1-4546-bba6-1a60f6c38acc prepare.destination=peer.route.control prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=60d85317-bc79-4a63-a5f4-57c3be607ee1 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.234001+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=0816079c-4cc3-4dac-8c85-4bf8b0e4e9ac prepare.destination=peer.route.control from.id=b5b4b87a-b880-4986-9bf5-e6830596d481 to.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.234366+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), other routes: [("local.host.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36)), ("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481))]    
[2m2019-10-29T09:38:03.234503+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36), b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)}    
[2m2019-10-29T09:38:03.235235+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), other routes: [("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), ("example.parent.a_on_b.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36))]    
[2m2019-10-29T09:38:03.235358+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"example.parent.a_on_b.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36), b"": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)}    
[2m2019-10-29T09:38:03.235659+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49354 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 35.616032ms    
[2m2019-10-29T09:38:03.270336+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Changing ILP address from local.host to example.parent.a_on_b    
[2m2019-10-29T09:38:03.275713+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: local.host.b_on_a -> Account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.275885+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b.alice_on_a -> Account: alice_on_a (id: 998e8987-e4bc-4d17-81cf-278f12a0de36)    
[2m2019-10-29T09:38:03.276754+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:03.277565+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), other routes: [("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), ("example.parent.a_on_b.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36))]    
[2m2019-10-29T09:38:03.277814+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"example.parent.a_on_b.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36)}    
[2m2019-10-29T09:38:03.277952+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.278026+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.278716+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.281599+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.bob_on_b -> Account: bob_on_b (id: b4e72d46-2979-4bec-9ab0-53a13560355d)    
[2m2019-10-29T09:38:03.281732+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b -> Account: a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.282645+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:03.283336+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(46d90d67-fe14-4191-a2fe-77cf342a5232)), ("example.parent.bob_on_b", AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d))]    
[2m2019-10-29T09:38:03.283464+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(46d90d67-fe14-4191-a2fe-77cf342a5232), b"example.parent.bob_on_b": AccountId(b4e72d46-2979-4bec-9ab0-53a13560355d)}    
[2m2019-10-29T09:38:03.283584+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.283654+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.290975+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 0 - 1 to accounts: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] } a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:03.291287+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=e6b2d9e2-dfab-4cc9-a730-04450f8a2107 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.291550+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=e6b2d9e2-dfab-4cc9-a730-04450f8a2107 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 458688985 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.292665+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 458688985 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:33.291+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:03.292981+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 458688985 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.293737+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=63ffbbcd-8d25-4fdb-bd07-b90d5508968d prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account b5b4b87a-b880-4986-9bf5-e6830596d481: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:03.294150+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=63ffbbcd-8d25-4fdb-bd07-b90d5508968d prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 61b5401b15c9ab6ab99fece62ed5b9d1 to epoch: 1    
[2m2019-10-29T09:38:03.294351+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=63ffbbcd-8d25-4fdb-bd07-b90d5508968d prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Recalculating best routes for prefixes: example.parent    
[2m2019-10-29T09:38:03.294746+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=63ffbbcd-8d25-4fdb-bd07-b90d5508968d prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.295754+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 458688985    
[2m2019-10-29T09:38:03.296137+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=e6b2d9e2-dfab-4cc9-a730-04450f8a2107 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.296414+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:03.300354+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent -> Account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.301431+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 3 routes to Redis    
[2m2019-10-29T09:38:03.302298+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), other routes: [("example.parent", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), ("local.host.b_on_a", AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)), ("example.parent.a_on_b.alice_on_a", AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36))]    
[2m2019-10-29T09:38:03.302455+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481), b"example.parent.a_on_b.alice_on_a": AccountId(998e8987-e4bc-4d17-81cf-278f12a0de36), b"local.host.b_on_a": AccountId(b5b4b87a-b880-4986-9bf5-e6830596d481)}    
[2m2019-10-29T09:38:03.473697+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.473920+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.475606+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.475752+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.476938+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.479668+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:03.480052+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2163a807-ad79-4797-831c-9537359d68ef prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.480266+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2163a807-ad79-4797-831c-9537359d68ef prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 913130582 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.481317+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 913130582 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:33.480+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:03.481568+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 913130582 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.481900+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=d27512b7-d6a0-41e6-abd5-a613b59c9b63 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account b5b4b87a-b880-4986-9bf5-e6830596d481: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:03.482094+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=d27512b7-d6a0-41e6-abd5-a613b59c9b63 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 61b5401b15c9ab6ab99fece62ed5b9d1, epoch: 1    
[2m2019-10-29T09:38:03.482220+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=d27512b7-d6a0-41e6-abd5-a613b59c9b63 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 61b5401b15c9ab6ab99fece62ed5b9d1 to epoch: 1    
[2m2019-10-29T09:38:03.482337+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=d27512b7-d6a0-41e6-abd5-a613b59c9b63 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:03.482504+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=d27512b7-d6a0-41e6-abd5-a613b59c9b63 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.483119+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 913130582    
[2m2019-10-29T09:38:03.483380+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2163a807-ad79-4797-831c-9537359d68ef prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.483597+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:03.674584+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.674584+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.674759+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.674827+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.675770+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.678465+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:03.678752+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecf9cff1-0f56-4edd-ab6d-23cde78c9ebc prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.678960+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecf9cff1-0f56-4edd-ab6d-23cde78c9ebc prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1974933022 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.679826+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1974933022 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:33.678+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:03.680088+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1974933022 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.680831+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23a8e372-5a14-40ba-b7ac-20e4aa7db5fe prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account b5b4b87a-b880-4986-9bf5-e6830596d481: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:03.681020+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23a8e372-5a14-40ba-b7ac-20e4aa7db5fe prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 61b5401b15c9ab6ab99fece62ed5b9d1, epoch: 1    
[2m2019-10-29T09:38:03.681145+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23a8e372-5a14-40ba-b7ac-20e4aa7db5fe prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 61b5401b15c9ab6ab99fece62ed5b9d1 to epoch: 1    
[2m2019-10-29T09:38:03.681289+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23a8e372-5a14-40ba-b7ac-20e4aa7db5fe prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:03.681462+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23a8e372-5a14-40ba-b7ac-20e4aa7db5fe prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.682555+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1974933022    
[2m2019-10-29T09:38:03.682890+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecf9cff1-0f56-4edd-ab6d-23cde78c9ebc prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.683132+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:03.754332+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3020/accounts/bob_on_b/spsp to URL: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:03.754463+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:03.770613+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM    
[2m2019-10-29T09:38:03.770740+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM")    
[2m2019-10-29T09:38:03.770900+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49363 "GET /accounts/bob_on_b/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 10.078885ms    
[2m2019-10-29T09:38:03.771835+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM    
[2m2019-10-29T09:38:03.772262+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=34f82191-da34-4176-a385-1817969771e7 prepare.destination=peer.config prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b.alice_on_a")    
[2m2019-10-29T09:38:03.772440+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=34f82191-da34-4176-a385-1817969771e7 prepare.destination=peer.config prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.772688+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.a_on_b.alice_on_a")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:03.772827+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 1000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.a_on_b.alice_on_a } ] }    
[2m2019-10-29T09:38:03.773024+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 1000, amount in flight is now: 1000    
[2m2019-10-29T09:38:03.773338+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM". Prefix: "example.parent", account: b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.776930+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account 998e8987-e4bc-4d17-81cf-278f12a0de36 to outgoing amount of: 1000 XYZ (scale 9) for account b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.778966+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account 998e8987-e4bc-4d17-81cf-278f12a0de36 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:03.779233+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: b5b4b87a-b880-4986-9bf5-e6830596d481, forwarding request to the next service    
[2m2019-10-29T09:38:03.779396+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2120746901 to account b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.780143+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2120746901 Prepare { destination: Address("example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM"), amount: 1000, expires_at: "2019-10-29T09:38:32.772+00:00", execution_condition: "248cf0c2d822f9d0025e06efcae76315e3a080274d49f7a110f2e80ab79a6a3a", data_length: 77 }    
[2m2019-10-29T09:38:03.780455+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2120746901 from account: a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.780795+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1133caf6-1ff9-482c-875c-b4d89b988052 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM". Prefix: "example.parent.bob_on_b", account: b4e72d46-2979-4bec-9ab0-53a13560355d    
[2m2019-10-29T09:38:03.783442+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1133caf6-1ff9-482c-875c-b4d89b988052 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b4e72d46-2979-4bec-9ab0-53a13560355d prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account 46d90d67-fe14-4191-a2fe-77cf342a5232 to outgoing amount of: 1000 XYZ (scale 9) for account b4e72d46-2979-4bec-9ab0-53a13560355d    
[2m2019-10-29T09:38:03.784196+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1133caf6-1ff9-482c-875c-b4d89b988052 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b4e72d46-2979-4bec-9ab0-53a13560355d prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account 46d90d67-fe14-4191-a2fe-77cf342a5232 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:03.784510+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1133caf6-1ff9-482c-875c-b4d89b988052 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b4e72d46-2979-4bec-9ab0-53a13560355d prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 1000 with fulfillment: c03c563e99fa1035399a987fc0352aaa056af76a54f9797aa4fdbda6c900f054 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 1000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:03.785139+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1133caf6-1ff9-482c-875c-b4d89b988052 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=c03c563e99fa1035399a987fc0352aaa056af76a54f9797aa4fdbda6c900f054[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.785523+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"bob_on_b","from_username":"a_on_b","destination":"example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM","amount":1000,"timestamp":"2019-10-29T09:38:03.784729+00:00"} for account b4e72d46-2979-4bec-9ab0-53a13560355d    
[2m2019-10-29T09:38:03.785901+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2120746901    
[2m2019-10-29T09:38:03.786533+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=9f0ab604-705a-454a-af52-da1e3fbb2c84 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=1000 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=c03c563e99fa1035399a987fc0352aaa056af76a54f9797aa4fdbda6c900f054[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.786700+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account b4e72d46-2979-4bec-9ab0-53a13560355d for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:03.786824+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:03.786819+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 1000, doubling max in flight to: 2000    
[2m2019-10-29T09:38:03.786986+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 1000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:03.787053+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account b5b4b87a-b880-4986-9bf5-e6830596d481 for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:03.787178+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:03.787195+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:03.787600+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e45b2adf-4f74-4644-9511-7cb5811a5b07 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM". Prefix: "example.parent", account: b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.796072+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account b4e72d46-2979-4bec-9ab0-53a13560355d: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM"), amount: 1000, timestamp: "2019-10-29T09:38:03.784729+00:00" }    
[2m2019-10-29T09:38:03.796246+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account b4e72d46-2979-4bec-9ab0-53a13560355d: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM"), amount: 1000, timestamp: "2019-10-29T09:38:03.784729+00:00" }    
[2m2019-10-29T09:38:03.796267+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account b4e72d46-2979-4bec-9ab0-53a13560355d because there were no open subscriptions    
[2m2019-10-29T09:38:03.796375+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account b4e72d46-2979-4bec-9ab0-53a13560355d because there were no open subscriptions    
[2m2019-10-29T09:38:03.796364+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e45b2adf-4f74-4644-9511-7cb5811a5b07 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: b5b4b87a-b880-4986-9bf5-e6830596d481, forwarding request to the next service    
[2m2019-10-29T09:38:03.796626+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e45b2adf-4f74-4644-9511-7cb5811a5b07 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b5b4b87a-b880-4986-9bf5-e6830596d481 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3299790138 to account b5b4b87a-b880-4986-9bf5-e6830596d481    
[2m2019-10-29T09:38:03.797735+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3299790138 Prepare { destination: Address("example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM"), amount: 0, expires_at: "2019-10-29T09:38:32.787+00:00", execution_condition: "cbcc4f60f91682c6ef2e542eb20372f1d6349be7aa9164112b0c9818f4f7be0f", data_length: 40 }    
[2m2019-10-29T09:38:03.798005+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3299790138 from account: a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232)    
[2m2019-10-29T09:38:03.798359+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=bd592c43-71e5-4f07-9f66-5c0a18247c09 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM". Prefix: "example.parent.bob_on_b", account: b4e72d46-2979-4bec-9ab0-53a13560355d    
[2m2019-10-29T09:38:03.805674+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=bd592c43-71e5-4f07-9f66-5c0a18247c09 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b4e72d46-2979-4bec-9ab0-53a13560355d prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:03.805850+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=bd592c43-71e5-4f07-9f66-5c0a18247c09 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=b4e72d46-2979-4bec-9ab0-53a13560355d prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:03.806230+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=bd592c43-71e5-4f07-9f66-5c0a18247c09 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:03.806906+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 3299790138    
[2m2019-10-29T09:38:03.807312+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e45b2adf-4f74-4644-9511-7cb5811a5b07 prepare.destination=example.parent.bob_on_b.8Mh9jr5MouorOJN-JvuW8aN2bLSkUHSk2VDbjNJ3FQM prepare.amount=0 from.id=998e8987-e4bc-4d17-81cf-278f12a0de36[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:03.807501+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:03.807587+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 1000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:03.807665+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 1000 and delivered 1000 of the receiver's units    
[2m2019-10-29T09:38:03.807755+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 1000 of the receiver's units    
[2m2019-10-29T09:38:03.807916+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49360 "POST /accounts/alice_on_a/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 61.244023ms    
[2m2019-10-29T09:38:03.826160+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49369 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.206755ms    
[2m2019-10-29T09:38:03.828463+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49367 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.611561ms    
[2m2019-10-29T09:38:03.841436+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3010/accounts/alice_on_a/spsp to URL: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:03.841545+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:03.850953+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ    
[2m2019-10-29T09:38:03.851070+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ")    
[2m2019-10-29T09:38:03.851255+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49376 "GET /accounts/alice_on_a/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.034184ms    
[2m2019-10-29T09:38:03.852241+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ    
[2m2019-10-29T09:38:03.852669+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f45143aa-1807-47e5-b641-756f55de1016 prepare.destination=peer.config prepare.amount=0 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.bob_on_b")    
[2m2019-10-29T09:38:03.852846+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f45143aa-1807-47e5-b641-756f55de1016 prepare.destination=peer.config prepare.amount=0 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.853070+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.bob_on_b")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:03.853201+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 2000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.bob_on_b } ] }    
[2m2019-10-29T09:38:03.853390+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 2000, amount in flight is now: 2000    
[2m2019-10-29T09:38:03.853689+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a15102f5-d1bb-4944-bdc3-76609575d124 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ". Prefix: "example.parent.a_on_b", account: 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.856225+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a15102f5-d1bb-4944-bdc3-76609575d124 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=46d90d67-fe14-4191-a2fe-77cf342a5232 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account b4e72d46-2979-4bec-9ab0-53a13560355d to outgoing amount of: 2000 XYZ (scale 9) for account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.857005+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a15102f5-d1bb-4944-bdc3-76609575d124 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=46d90d67-fe14-4191-a2fe-77cf342a5232 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account b4e72d46-2979-4bec-9ab0-53a13560355d has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:03.857303+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a15102f5-d1bb-4944-bdc3-76609575d124 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=46d90d67-fe14-4191-a2fe-77cf342a5232 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 267449768 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.858219+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 267449768 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ"), amount: 2000, expires_at: "2019-10-29T09:38:32.853+00:00", execution_condition: "6cfa97c0e705a51cee9a2f07ee94db85af01c74189ebed9a803761e41321e054", data_length: 68 }    
[2m2019-10-29T09:38:03.858460+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 267449768 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.858792+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=da4aecef-aa39-4b7c-b433-3ce227c60830 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ". Prefix: "example.parent.a_on_b.alice_on_a", account: 998e8987-e4bc-4d17-81cf-278f12a0de36    
[2m2019-10-29T09:38:03.861548+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=da4aecef-aa39-4b7c-b433-3ce227c60830 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=998e8987-e4bc-4d17-81cf-278f12a0de36 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account b5b4b87a-b880-4986-9bf5-e6830596d481 to outgoing amount of: 2000 XYZ (scale 9) for account 998e8987-e4bc-4d17-81cf-278f12a0de36    
[2m2019-10-29T09:38:03.862341+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=da4aecef-aa39-4b7c-b433-3ce227c60830 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=998e8987-e4bc-4d17-81cf-278f12a0de36 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account b5b4b87a-b880-4986-9bf5-e6830596d481 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:03.862658+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=da4aecef-aa39-4b7c-b433-3ce227c60830 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=998e8987-e4bc-4d17-81cf-278f12a0de36 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 2000 with fulfillment: 55407ce7808786292f78773fd59ae70f1e99b4abcd05dccbff757782956f3e34 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 2000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:03.863185+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=da4aecef-aa39-4b7c-b433-3ce227c60830 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=55407ce7808786292f78773fd59ae70f1e99b4abcd05dccbff757782956f3e34[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.863585+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"alice_on_a","from_username":"b_on_a","destination":"example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ","amount":2000,"timestamp":"2019-10-29T09:38:03.862872+00:00"} for account 998e8987-e4bc-4d17-81cf-278f12a0de36    
[2m2019-10-29T09:38:03.863681+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account 998e8987-e4bc-4d17-81cf-278f12a0de36 for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:03.863814+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:03.864418+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 267449768    
[2m2019-10-29T09:38:03.864990+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a15102f5-d1bb-4944-bdc3-76609575d124 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=2000 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=55407ce7808786292f78773fd59ae70f1e99b4abcd05dccbff757782956f3e34[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.865173+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 2000, doubling max in flight to: 4000    
[2m2019-10-29T09:38:03.865312+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 2000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:03.865485+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:03.865636+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account 46d90d67-fe14-4191-a2fe-77cf342a5232 for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:03.865755+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:03.865910+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e6211b68-5b3f-4cef-a297-e2f74085dd43 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ". Prefix: "example.parent.a_on_b", account: 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.867702+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 998e8987-e4bc-4d17-81cf-278f12a0de36: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ"), amount: 2000, timestamp: "2019-10-29T09:38:03.862872+00:00" }    
[2m2019-10-29T09:38:03.867819+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 998e8987-e4bc-4d17-81cf-278f12a0de36: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ"), amount: 2000, timestamp: "2019-10-29T09:38:03.862872+00:00" }    
[2m2019-10-29T09:38:03.867869+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 998e8987-e4bc-4d17-81cf-278f12a0de36 because there were no open subscriptions    
[2m2019-10-29T09:38:03.867982+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 998e8987-e4bc-4d17-81cf-278f12a0de36 because there were no open subscriptions    
[2m2019-10-29T09:38:03.869314+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e6211b68-5b3f-4cef-a297-e2f74085dd43 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=46d90d67-fe14-4191-a2fe-77cf342a5232 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1740697370 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.870258+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1740697370 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ"), amount: 0, expires_at: "2019-10-29T09:38:32.865+00:00", execution_condition: "9d0b0e9596e4389ceb0fa979961ff50409a54699f199f72107697ee118e416c3", data_length: 40 }    
[2m2019-10-29T09:38:03.870524+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1740697370 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.870866+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=82f9f3b4-8cca-43b6-b93d-5617225b2faa prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ". Prefix: "example.parent.a_on_b.alice_on_a", account: 998e8987-e4bc-4d17-81cf-278f12a0de36    
[2m2019-10-29T09:38:03.872517+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.872582+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:03.872595+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.872660+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:03.873217+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:03.873560+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=82f9f3b4-8cca-43b6-b93d-5617225b2faa prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=998e8987-e4bc-4d17-81cf-278f12a0de36 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:03.873704+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=82f9f3b4-8cca-43b6-b93d-5617225b2faa prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=998e8987-e4bc-4d17-81cf-278f12a0de36 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:03.874027+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=82f9f3b4-8cca-43b6-b93d-5617225b2faa prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:03.875069+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 1740697370    
[2m2019-10-29T09:38:03.875395+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=e6211b68-5b3f-4cef-a297-e2f74085dd43 prepare.destination=example.parent.a_on_b.alice_on_a.iGfbAtBAygnJXNCC6aYaQRUfuEiiW6KtQAnOyAvEKxQ prepare.amount=0 from.id=b4e72d46-2979-4bec-9ab0-53a13560355d[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:03.875582+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:03.875591+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: 46d90d67-fe14-4191-a2fe-77cf342a5232, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:03.875666+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 2000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:03.875746+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 2000 and delivered 2000 of the receiver's units    
[2m2019-10-29T09:38:03.875833+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 2000 of the receiver's units    
[2m2019-10-29T09:38:03.875828+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=c82fb35c-4155-492e-9684-f67289df9981 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:03.875989+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49373 "POST /accounts/bob_on_b/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 42.359409ms    
[2m2019-10-29T09:38:03.876007+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=c82fb35c-4155-492e-9684-f67289df9981 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1749783977 to account 46d90d67-fe14-4191-a2fe-77cf342a5232    
[2m2019-10-29T09:38:03.877100+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1749783977 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:33.875+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:03.877409+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1749783977 from account: b_on_a (id: b5b4b87a-b880-4986-9bf5-e6830596d481)    
[2m2019-10-29T09:38:03.877790+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c56874de-b05c-4738-a4a8-a55520423832 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account b5b4b87a-b880-4986-9bf5-e6830596d481: RouteUpdateRequest { routing_table_id: "61b5401b15c9ab6ab99fece62ed5b9d1", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:03.878051+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c56874de-b05c-4738-a4a8-a55520423832 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 61b5401b15c9ab6ab99fece62ed5b9d1, epoch: 1    
[2m2019-10-29T09:38:03.878180+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c56874de-b05c-4738-a4a8-a55520423832 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 61b5401b15c9ab6ab99fece62ed5b9d1 to epoch: 1    
[2m2019-10-29T09:38:03.878298+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c56874de-b05c-4738-a4a8-a55520423832 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:03.878473+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c56874de-b05c-4738-a4a8-a55520423832 prepare.destination=peer.route.update prepare.amount=0 from.id=b5b4b87a-b880-4986-9bf5-e6830596d481[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.879220+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1749783977    
[2m2019-10-29T09:38:03.879496+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=c82fb35c-4155-492e-9684-f67289df9981 prepare.destination=peer.route.update from.id=46d90d67-fe14-4191-a2fe-77cf342a5232 to.id=46d90d67-fe14-4191-a2fe-77cf342a5232[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:03.879715+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:03.893068+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49380 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.610227ms    
[2m2019-10-29T09:38:03.893102+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49382 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.654734ms    
[2m2019-10-29T09:38:03.897296+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
[2m2019-10-29T09:38:03.897348+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
test two_nodes_btp ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

