    Finished dev [unoptimized + debuginfo] target(s) in 0.23s
     Running target/debug/deps/btp-65f51c48e27f5010

running 1 test
[2m2019-10-29T09:38:09.909734+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: local.host
[2m2019-10-29T09:38:09.910935+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: example.parent
[2m2019-10-29T09:38:09.911044+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-7811197729680595950-11763073594955707713.sock"), db: 1, passwd: None } }    
[2m2019-10-29T09:38:09.911501+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-7811197729680595950-11763073594955707713.sock"), db: 2, passwd: None } }    
[2m2019-10-29T09:38:09.913698+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:09.913835+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:09.914361+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:09.914451+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:09.915577+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3020
[2m2019-10-29T09:38:09.915577+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3010
[2m2019-10-29T09:38:09.915939+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Settlement API listening on: 127.0.0.1:3021
[2m2019-10-29T09:38:09.915977+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Settlement API listening on: 127.0.0.1:3011
[2m2019-10-29T09:38:09.916139+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:09.916141+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:09.919381+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:09.919381+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:09.919496+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:09.919506+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:09.920646+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:09.920646+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.118140+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.118143+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.118277+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.118297+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.118857+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.118913+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.321981+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.322020+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.322142+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.322186+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.322781+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.322820+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.431551+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for a_on_b: c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:10.431551+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for bob_on_b: 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349    
[2m2019-10-29T09:38:10.434233+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd)), ("example.parent.bob_on_b", AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349))]    
[2m2019-10-29T09:38:10.434398+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd), b"example.parent.bob_on_b": AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349)}    
[2m2019-10-29T09:38:10.434442+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd)), ("example.parent.bob_on_b", AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349))]    
[2m2019-10-29T09:38:10.434511+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account c9356da4-2f40-40e2-ab1f-19abe8a343cd (ILP address: example.parent.a_on_b)    
[2m2019-10-29T09:38:10.434560+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd), b"example.parent.bob_on_b": AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349)}    
[2m2019-10-29T09:38:10.434674+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 (ILP address: example.parent.bob_on_b)    
[2m2019-10-29T09:38:10.435424+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49508 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.684058ms    
[2m2019-10-29T09:38:10.435448+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49510 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.694979ms    
[2m2019-10-29T09:38:10.450720+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for b_on_a: a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:10.450930+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for alice_on_a: d83e9f90-91e1-4e33-9e6e-15531b5bd1ee    
[2m2019-10-29T09:38:10.453258+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), ("local.host.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee))]    
[2m2019-10-29T09:38:10.453396+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"local.host.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)}    
[2m2019-10-29T09:38:10.453438+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), ("local.host.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee))]    
[2m2019-10-29T09:38:10.453503+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account a13227c6-36cf-4b8f-aff9-a7cde3c3e365 (ILP address: local.host.b_on_a)    
[2m2019-10-29T09:38:10.453556+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"local.host.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)}    
[2m2019-10-29T09:38:10.453615+00:00 [0m[35mTRACE[0m interledger_api::routes::accounts: Newly inserted account has a BTP URL configured, will try to connect    
[2m2019-10-29T09:38:10.453687+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee (ILP address: local.host.alice_on_a)    
[2m2019-10-29T09:38:10.453734+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connecting to ws://localhost:3020/ilp/btp    
[2m2019-10-29T09:38:10.454490+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49514 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 10.899297ms    
[2m2019-10-29T09:38:10.458909+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49519 "GET /ilp/btp HTTP/1.1" 101 "-" "-" 349.848Âµs    
[2m2019-10-29T09:38:10.459290+00:00 [0m[35mTRACE[0m interledger_btp::client: Connected to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365 (URI: ws://localhost:3020/ilp/btp), sending auth packet    
[2m2019-10-29T09:38:10.459651+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connected to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365's server    
[2m2019-10-29T09:38:10.459935+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Getting ILP address from parent account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.460605+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=6a0044fb-3c05-467e-8cc7-03846188c34e prepare.destination=peer.config from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.460872+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=6a0044fb-3c05-467e-8cc7-03846188c34e prepare.destination=peer.config from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365, forwarding request to the next service    
[2m2019-10-29T09:38:10.461005+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=6a0044fb-3c05-467e-8cc7-03846188c34e prepare.destination=peer.config from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 4198824478 to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:10.465968+00:00 [0m[34mDEBUG[0m interledger_btp::server: Got BTP connection for username: a_on_b    
[2m2019-10-29T09:38:10.474342+00:00 [0m[34mDEBUG[0m interledger_btp::server: Added connection for account a_on_b: (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:10.474559+00:00 [0m[34mDEBUG[0m interledger_btp::service: Unable to parse ILP packet from BTP packet (if this is the first time this appears, the packet was probably the auth response)    
[2m2019-10-29T09:38:10.475036+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 4198824478 Prepare { destination: Address("peer.config"), amount: 0, expires_at: "2019-10-29T09:38:40.460+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 0 }    
[2m2019-10-29T09:38:10.475320+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 4198824478 from account: a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:10.475853+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=16925f7d-bee3-4feb-8204-98e531e39318 prepare.destination=peer.config prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b")    
[2m2019-10-29T09:38:10.476060+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=16925f7d-bee3-4feb-8204-98e531e39318 prepare.destination=peer.config prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.476695+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 4198824478    
[2m2019-10-29T09:38:10.477084+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=6a0044fb-3c05-467e-8cc7-03846188c34e prepare.destination=peer.config from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.477738+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Got ILDCP response from parent: Ok(IldcpResponse { ilp_address: "Address("example.parent.a_on_b")", asset_code: "XYZ", asset_scale: 9 })    
[2m2019-10-29T09:38:10.477837+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: ILP address is now: example.parent.a_on_b    
[2m2019-10-29T09:38:10.478078+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Asking for routes from Account { id: AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), username: Username("b_on_a"), ilp_address: Address("local.host.b_on_a"), asset_code: "XYZ", asset_scale: 9, max_packet_amount: 18446744073709551615, min_balance: None, ilp_over_http_url: None, ilp_over_http_incoming_token: None, ilp_over_http_outgoing_token: None, ilp_over_btp_url: Some("btp+ws://localhost:3020/ilp/btp"), ilp_over_btp_incoming_token: None, ilp_over_btp_outgoing_token: Some(SecretBytes(...)), settle_threshold: None, settle_to: None, routing_relation: Parent, round_trip_time: 500, packets_per_minute_limit: None, amount_per_minute_limit: None, settlement_engine_url: None }    
[2m2019-10-29T09:38:10.478245+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Setting ILP address to: example.parent.a_on_b    
[2m2019-10-29T09:38:10.478536+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=3b8180b1-bc89-4b88-bbd0-0f6b60b4fa7d prepare.destination=peer.route.control from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.478714+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=3b8180b1-bc89-4b88-bbd0-0f6b60b4fa7d prepare.destination=peer.route.control from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365, forwarding request to the next service    
[2m2019-10-29T09:38:10.478870+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=3b8180b1-bc89-4b88-bbd0-0f6b60b4fa7d prepare.destination=peer.route.control from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2347493289 to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:10.480170+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Set default route to account id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:10.480515+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2347493289 Prepare { destination: Address("peer.route.control"), amount: 0, expires_at: "2019-10-29T09:38:40.478+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 23 }    
[2m2019-10-29T09:38:10.480742+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2347493289 from account: a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:10.481071+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route control request from account a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd): RouteControlRequest { mode: Sync, last_known_routing_table_id: "00000000000000000000000000000000", last_known_epoch: 0, features: [] }    
[2m2019-10-29T09:38:10.481219+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Checking whether account was previously listed as unavailable    
[2m2019-10-29T09:38:10.481413+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Sending individual route update to account: c9356da4-2f40-40e2-ab1f-19abe8a343cd for epochs from: 0 to: 0    
[2m2019-10-29T09:38:10.481643+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=d0ef4db6-35d2-4831-a73a-fbe370c26fe2 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.481854+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=d0ef4db6-35d2-4831-a73a-fbe370c26fe2 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1743405480 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:10.482280+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.482870+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1743405480 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:40.481+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:10.483085+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1743405480 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.483174+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2347493289    
[2m2019-10-29T09:38:10.483673+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 0, from_epoch_index: 0, to_epoch_index: 0, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:10.483877+00:00 [0m[33m WARN[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route for a different global prefix: Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }    
[2m2019-10-29T09:38:10.484062+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: d964b680a179b66be76bf3e4fc04eb6c, epoch: 0    
[2m2019-10-29T09:38:10.484194+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table d964b680a179b66be76bf3e4fc04eb6c to epoch: 0    
[2m2019-10-29T09:38:10.484326+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:10.484490+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=705587ec-a9fa-487e-827b-5fa1957a82b0 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.485534+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=3b8180b1-bc89-4b88-bbd0-0f6b60b4fa7d prepare.destination=peer.route.control from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.485979+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), other routes: [("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), ("local.host.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee))]    
[2m2019-10-29T09:38:10.486017+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1743405480    
[2m2019-10-29T09:38:10.486122+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"local.host.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)}    
[2m2019-10-29T09:38:10.486278+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69352eba-ca75-4c87-b388-844e1785d4e4 prepare.destination=peer.route.control prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=d0ef4db6-35d2-4831-a73a-fbe370c26fe2 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.486965+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), other routes: [("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), ("example.parent.a_on_b.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee))]    
[2m2019-10-29T09:38:10.487094+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"example.parent.a_on_b.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)}    
[2m2019-10-29T09:38:10.487397+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49516 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 43.785267ms    
[2m2019-10-29T09:38:10.521019+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Changing ILP address from local.host to example.parent.a_on_b    
[2m2019-10-29T09:38:10.527352+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b.alice_on_a -> Account: alice_on_a (id: d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)    
[2m2019-10-29T09:38:10.527505+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: local.host.b_on_a -> Account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.528342+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:10.529053+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), other routes: [("example.parent.a_on_b.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)), ("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365))]    
[2m2019-10-29T09:38:10.529193+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"example.parent.a_on_b.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee), b"": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)}    
[2m2019-10-29T09:38:10.529323+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.529396+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.529962+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.531773+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.bob_on_b -> Account: bob_on_b (id: 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349)    
[2m2019-10-29T09:38:10.531893+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b -> Account: a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:10.532616+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:10.533286+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349)), ("example.parent.a_on_b", AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd))]    
[2m2019-10-29T09:38:10.533404+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(c9356da4-2f40-40e2-ab1f-19abe8a343cd), b"example.parent.bob_on_b": AccountId(24a70e9f-6a33-4dd0-a2b7-2faf2b70e349)}    
[2m2019-10-29T09:38:10.533547+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.533652+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.536675+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 0 - 1 to accounts: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] } a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:10.537163+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=51f9dd7f-b125-4922-8d17-87848cd21659 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.537393+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=51f9dd7f-b125-4922-8d17-87848cd21659 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 812848473 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:10.538287+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 812848473 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:40.537+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:10.538527+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 812848473 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.538893+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=9a3ffa70-8783-42d5-9480-09baa7e3e367 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:10.539145+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=9a3ffa70-8783-42d5-9480-09baa7e3e367 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table d964b680a179b66be76bf3e4fc04eb6c to epoch: 1    
[2m2019-10-29T09:38:10.539301+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=9a3ffa70-8783-42d5-9480-09baa7e3e367 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Recalculating best routes for prefixes: example.parent    
[2m2019-10-29T09:38:10.539559+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=9a3ffa70-8783-42d5-9480-09baa7e3e367 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.540224+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 812848473    
[2m2019-10-29T09:38:10.540649+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=51f9dd7f-b125-4922-8d17-87848cd21659 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.540924+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:10.544910+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent -> Account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.545730+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 3 routes to Redis    
[2m2019-10-29T09:38:10.546430+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), other routes: [("example.parent", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)), ("example.parent.a_on_b.alice_on_a", AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee)), ("local.host.b_on_a", AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365))]    
[2m2019-10-29T09:38:10.546588+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"example.parent": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365), b"example.parent.a_on_b.alice_on_a": AccountId(d83e9f90-91e1-4e33-9e6e-15531b5bd1ee), b"local.host.b_on_a": AccountId(a13227c6-36cf-4b8f-aff9-a7cde3c3e365)}    
[2m2019-10-29T09:38:10.722800+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.722917+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.723591+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.727923+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.727997+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.730842+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:10.731181+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=9d21bf97-ccd2-4c7a-8964-c53e4c58fd0b prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.731374+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=9d21bf97-ccd2-4c7a-8964-c53e4c58fd0b prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1015413173 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:10.732201+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1015413173 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:40.731+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:10.732460+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1015413173 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.732893+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6946a363-30cc-438d-8979-eedc59009829 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:10.733081+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6946a363-30cc-438d-8979-eedc59009829 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: d964b680a179b66be76bf3e4fc04eb6c, epoch: 1    
[2m2019-10-29T09:38:10.733206+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6946a363-30cc-438d-8979-eedc59009829 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table d964b680a179b66be76bf3e4fc04eb6c to epoch: 1    
[2m2019-10-29T09:38:10.733321+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6946a363-30cc-438d-8979-eedc59009829 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:10.733486+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6946a363-30cc-438d-8979-eedc59009829 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.734180+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1015413173    
[2m2019-10-29T09:38:10.734455+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=9d21bf97-ccd2-4c7a-8964-c53e4c58fd0b prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.734673+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:10.923413+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.923526+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.924052+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:10.924164+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:10.924163+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:10.927133+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:10.927494+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=45e8fa2d-3172-49d3-bedb-d6cbcb801764 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:10.927713+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=45e8fa2d-3172-49d3-bedb-d6cbcb801764 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 179556604 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:10.928503+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 179556604 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:40.927+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:10.928734+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 179556604 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:10.929307+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=68e02718-b81e-463e-be0a-6c1acb177f46 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:10.929495+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=68e02718-b81e-463e-be0a-6c1acb177f46 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: d964b680a179b66be76bf3e4fc04eb6c, epoch: 1    
[2m2019-10-29T09:38:10.929652+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=68e02718-b81e-463e-be0a-6c1acb177f46 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table d964b680a179b66be76bf3e4fc04eb6c to epoch: 1    
[2m2019-10-29T09:38:10.929812+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=68e02718-b81e-463e-be0a-6c1acb177f46 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:10.930056+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=68e02718-b81e-463e-be0a-6c1acb177f46 prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.930778+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 179556604    
[2m2019-10-29T09:38:10.931087+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=45e8fa2d-3172-49d3-bedb-d6cbcb801764 prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:10.931311+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:11.005054+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3020/accounts/bob_on_b/spsp to URL: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:11.005171+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:11.015920+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA    
[2m2019-10-29T09:38:11.016100+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA")    
[2m2019-10-29T09:38:11.016318+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49525 "GET /accounts/bob_on_b/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.810514ms    
[2m2019-10-29T09:38:11.017869+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA    
[2m2019-10-29T09:38:11.018317+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=5dbf7334-cb8f-4b5b-a1a0-46e3ac2c2f98 prepare.destination=peer.config prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b.alice_on_a")    
[2m2019-10-29T09:38:11.018496+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=5dbf7334-cb8f-4b5b-a1a0-46e3ac2c2f98 prepare.destination=peer.config prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.018771+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.a_on_b.alice_on_a")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:11.018923+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 1000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.a_on_b.alice_on_a } ] }    
[2m2019-10-29T09:38:11.019121+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 1000, amount in flight is now: 1000    
[2m2019-10-29T09:38:11.019424+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA". Prefix: "example.parent", account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:11.022267+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee to outgoing amount of: 1000 XYZ (scale 9) for account a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:11.024222+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:11.024494+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365, forwarding request to the next service    
[2m2019-10-29T09:38:11.024676+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2743754804 to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:11.025398+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2743754804 Prepare { destination: Address("example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA"), amount: 1000, expires_at: "2019-10-29T09:38:40.019+00:00", execution_condition: "dcf9719975cc8f9c99efbc41fc7b360a43b9e772cd5ebe9c659c8e2407ef6ed4", data_length: 77 }    
[2m2019-10-29T09:38:11.025625+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2743754804 from account: a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:11.025983+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=523d54ca-cd85-42d4-9d9c-566c312f57da prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA". Prefix: "example.parent.bob_on_b", account: 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349    
[2m2019-10-29T09:38:11.028647+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=523d54ca-cd85-42d4-9d9c-566c312f57da prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account c9356da4-2f40-40e2-ab1f-19abe8a343cd to outgoing amount of: 1000 XYZ (scale 9) for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349    
[2m2019-10-29T09:38:11.029494+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=523d54ca-cd85-42d4-9d9c-566c312f57da prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account c9356da4-2f40-40e2-ab1f-19abe8a343cd has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:11.029820+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=523d54ca-cd85-42d4-9d9c-566c312f57da prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 1000 with fulfillment: 75ba5709233df66d923dad342227b4e0311e30bf5b70539632d6074d96aa408b and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 1000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:11.030468+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=523d54ca-cd85-42d4-9d9c-566c312f57da prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=75ba5709233df66d923dad342227b4e0311e30bf5b70539632d6074d96aa408b[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.030860+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"bob_on_b","from_username":"a_on_b","destination":"example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA","amount":1000,"timestamp":"2019-10-29T09:38:11.030053+00:00"} for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349    
[2m2019-10-29T09:38:11.031288+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2743754804    
[2m2019-10-29T09:38:11.031914+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=f5291d1f-e049-433e-a024-e8d1d87316f4 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=1000 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=75ba5709233df66d923dad342227b4e0311e30bf5b70539632d6074d96aa408b[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.032099+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:11.032188+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 1000, doubling max in flight to: 2000    
[2m2019-10-29T09:38:11.032226+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:11.032333+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 1000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:11.032487+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account a13227c6-36cf-4b8f-aff9-a7cde3c3e365 for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:11.032535+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:11.032616+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:11.032878+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=942eb6cd-6057-40c6-a4f3-5c57d55d66e5 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA". Prefix: "example.parent", account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:11.035671+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=942eb6cd-6057-40c6-a4f3-5c57d55d66e5 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: a13227c6-36cf-4b8f-aff9-a7cde3c3e365, forwarding request to the next service    
[2m2019-10-29T09:38:11.035837+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=942eb6cd-6057-40c6-a4f3-5c57d55d66e5 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 509822050 to account a13227c6-36cf-4b8f-aff9-a7cde3c3e365    
[2m2019-10-29T09:38:11.036555+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 509822050 Prepare { destination: Address("example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA"), amount: 0, expires_at: "2019-10-29T09:38:40.032+00:00", execution_condition: "7c864da85743327f1bcdfd2a9aa250b91689cd14512c656876cdba961bcaaf25", data_length: 40 }    
[2m2019-10-29T09:38:11.036777+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 509822050 from account: a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd)    
[2m2019-10-29T09:38:11.037094+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=af241681-9f4e-459d-bfb8-091c55ccd705 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA". Prefix: "example.parent.bob_on_b", account: 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349    
[2m2019-10-29T09:38:11.039808+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=af241681-9f4e-459d-bfb8-091c55ccd705 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:11.039961+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=af241681-9f4e-459d-bfb8-091c55ccd705 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:11.040304+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=af241681-9f4e-459d-bfb8-091c55ccd705 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:11.040478+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA"), amount: 1000, timestamp: "2019-10-29T09:38:11.030053+00:00" }    
[2m2019-10-29T09:38:11.040604+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 because there were no open subscriptions    
[2m2019-10-29T09:38:11.040735+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA"), amount: 1000, timestamp: "2019-10-29T09:38:11.030053+00:00" }    
[2m2019-10-29T09:38:11.040878+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 because there were no open subscriptions    
[2m2019-10-29T09:38:11.041010+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 509822050    
[2m2019-10-29T09:38:11.041355+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=942eb6cd-6057-40c6-a4f3-5c57d55d66e5 prepare.destination=example.parent.bob_on_b.92ve1-asCf9_ILDDF2L_lqBvZZ570YYkAKWAnAcq_pA prepare.amount=0 from.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:11.041549+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:11.041634+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 1000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:11.041710+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 1000 and delivered 1000 of the receiver's units    
[2m2019-10-29T09:38:11.041797+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 1000 of the receiver's units    
[2m2019-10-29T09:38:11.041950+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49522 "POST /accounts/alice_on_a/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 45.775325ms    
[2m2019-10-29T09:38:11.059328+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49531 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.850966ms    
[2m2019-10-29T09:38:11.059328+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49529 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.972875ms    
[2m2019-10-29T09:38:11.071952+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3010/accounts/alice_on_a/spsp to URL: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:11.072077+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:11.081255+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg    
[2m2019-10-29T09:38:11.081354+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg")    
[2m2019-10-29T09:38:11.081507+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49537 "GET /accounts/alice_on_a/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 4.714977ms    
[2m2019-10-29T09:38:11.082419+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg    
[2m2019-10-29T09:38:11.082834+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=05734048-3113-46f5-b179-dadc5a8f9449 prepare.destination=peer.config prepare.amount=0 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.bob_on_b")    
[2m2019-10-29T09:38:11.083013+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=05734048-3113-46f5-b179-dadc5a8f9449 prepare.destination=peer.config prepare.amount=0 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.083242+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.bob_on_b")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:11.083372+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 2000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.bob_on_b } ] }    
[2m2019-10-29T09:38:11.083570+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 2000, amount in flight is now: 2000    
[2m2019-10-29T09:38:11.083890+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d16d1893-6780-4073-9e75-517ff20ec293 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg". Prefix: "example.parent.a_on_b", account: c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.086591+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d16d1893-6780-4073-9e75-517ff20ec293 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 to outgoing amount of: 2000 XYZ (scale 9) for account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.087471+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d16d1893-6780-4073-9e75-517ff20ec293 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account 24a70e9f-6a33-4dd0-a2b7-2faf2b70e349 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:11.087799+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d16d1893-6780-4073-9e75-517ff20ec293 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1802866474 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.088658+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1802866474 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg"), amount: 2000, expires_at: "2019-10-29T09:38:40.083+00:00", execution_condition: "e0bad12bb1e0f7e4c9e34a21122579b654fbf4763f4e6bbbbdd64d9ef0446951", data_length: 68 }    
[2m2019-10-29T09:38:11.088903+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1802866474 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:11.089297+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=0d20b5c7-38c5-4017-9d08-8dfba2c3bdc5 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg". Prefix: "example.parent.a_on_b.alice_on_a", account: d83e9f90-91e1-4e33-9e6e-15531b5bd1ee    
[2m2019-10-29T09:38:11.091801+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=0d20b5c7-38c5-4017-9d08-8dfba2c3bdc5 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365 to outgoing amount of: 2000 XYZ (scale 9) for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee    
[2m2019-10-29T09:38:11.092532+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=0d20b5c7-38c5-4017-9d08-8dfba2c3bdc5 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account a13227c6-36cf-4b8f-aff9-a7cde3c3e365 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:11.092839+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=0d20b5c7-38c5-4017-9d08-8dfba2c3bdc5 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 2000 with fulfillment: 55cfdb60ed858f562f3d5e58e4ca4ddc0a9424a2c66765142894143fdc2417b8 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 2000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:11.093349+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=0d20b5c7-38c5-4017-9d08-8dfba2c3bdc5 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=55cfdb60ed858f562f3d5e58e4ca4ddc0a9424a2c66765142894143fdc2417b8[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.093791+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"alice_on_a","from_username":"b_on_a","destination":"example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg","amount":2000,"timestamp":"2019-10-29T09:38:11.093047+00:00"} for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee    
[2m2019-10-29T09:38:11.093811+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:11.093940+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:11.094222+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1802866474    
[2m2019-10-29T09:38:11.094736+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d16d1893-6780-4073-9e75-517ff20ec293 prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=2000 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=55cfdb60ed858f562f3d5e58e4ca4ddc0a9424a2c66765142894143fdc2417b8[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.095038+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 2000, doubling max in flight to: 4000    
[2m2019-10-29T09:38:11.095121+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account c9356da4-2f40-40e2-ab1f-19abe8a343cd for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:11.095192+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 2000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:11.095244+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:11.095425+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:11.095776+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=c4a78a22-fff6-4692-a0ac-69e8b018fd1c prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg". Prefix: "example.parent.a_on_b", account: c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.097428+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg"), amount: 2000, timestamp: "2019-10-29T09:38:11.093047+00:00" }    
[2m2019-10-29T09:38:11.097548+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee because there were no open subscriptions    
[2m2019-10-29T09:38:11.097601+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg"), amount: 2000, timestamp: "2019-10-29T09:38:11.093047+00:00" }    
[2m2019-10-29T09:38:11.097716+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account d83e9f90-91e1-4e33-9e6e-15531b5bd1ee because there were no open subscriptions    
[2m2019-10-29T09:38:11.098456+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=c4a78a22-fff6-4692-a0ac-69e8b018fd1c prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2132512419 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.099210+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2132512419 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg"), amount: 0, expires_at: "2019-10-29T09:38:40.095+00:00", execution_condition: "3046fa807cc6601fa54c6852875eb33232bf35a98530fe90aa3091aaadc9a4ad", data_length: 40 }    
[2m2019-10-29T09:38:11.099447+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2132512419 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:11.099775+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6c3a4f32-e978-4d58-8726-71f75eb6c8ca prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg". Prefix: "example.parent.a_on_b.alice_on_a", account: d83e9f90-91e1-4e33-9e6e-15531b5bd1ee    
[2m2019-10-29T09:38:11.102389+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6c3a4f32-e978-4d58-8726-71f75eb6c8ca prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:11.102529+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6c3a4f32-e978-4d58-8726-71f75eb6c8ca prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=d83e9f90-91e1-4e33-9e6e-15531b5bd1ee prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:11.102818+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=6c3a4f32-e978-4d58-8726-71f75eb6c8ca prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:11.103749+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 2132512419    
[2m2019-10-29T09:38:11.104651+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=c4a78a22-fff6-4692-a0ac-69e8b018fd1c prepare.destination=example.parent.a_on_b.alice_on_a.2sHUyzgUZw7BLNHiniKDpQOyT1r0OCwy4L9_gsD4pBg prepare.amount=0 from.id=24a70e9f-6a33-4dd0-a2b7-2faf2b70e349[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:11.105023+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:11.105154+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 2000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:11.105266+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 2000 and delivered 2000 of the receiver's units    
[2m2019-10-29T09:38:11.105401+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 2000 of the receiver's units    
[2m2019-10-29T09:38:11.105584+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49534 "POST /accounts/bob_on_b/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 40.733227ms    
[2m2019-10-29T09:38:11.123337+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:11.123519+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:11.128562+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:11.128730+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:11.128774+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: c9356da4-2f40-40e2-ab1f-19abe8a343cd, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:11.129100+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=5ce326ca-aced-47ab-a3bf-8350a9dc5fed prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:11.129317+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=5ce326ca-aced-47ab-a3bf-8350a9dc5fed prepare.destination=peer.route.update from.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd to.id=c9356da4-2f40-40e2-ab1f-19abe8a343cd[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1931359673 to account c9356da4-2f40-40e2-ab1f-19abe8a343cd    
[2m2019-10-29T09:38:11.129471+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49541 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 13.813584ms    
[2m2019-10-29T09:38:11.129475+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:11.130219+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49543 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 14.559489ms    
[2m2019-10-29T09:38:11.130225+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1931359673 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:41.129+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:11.130561+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1931359673 from account: b_on_a (id: a13227c6-36cf-4b8f-aff9-a7cde3c3e365)    
[2m2019-10-29T09:38:11.131147+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=cc11ac30-5a78-41ba-ac07-0d2fa163b77f prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account a13227c6-36cf-4b8f-aff9-a7cde3c3e365: RouteUpdateRequest { routing_table_id: "d964b680a179b66be76bf3e4fc04eb6c", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:11.131457+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=cc11ac30-5a78-41ba-ac07-0d2fa163b77f prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: d964b680a179b66be76bf3e4fc04eb6c, epoch: 1    
[2m2019-10-29T09:38:11.131665+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=cc11ac30-5a78-41ba-ac07-0d2fa163b77f prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table d964b680a179b66be76bf3e4fc04eb6c to epoch: 1    
[2m2019-10-29T09:38:11.131819+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=cc11ac30-5a78-41ba-ac07-0d2fa163b77f prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:11.132017+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=cc11ac30-5a78-41ba-ac07-0d2fa163b77f prepare.destination=peer.route.update prepare.amount=0 from.id=a13227c6-36cf-4b8f-aff9-a7cde3c3e365[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:11.135106+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
[2m2019-10-29T09:38:11.135164+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
test two_nodes_btp ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

