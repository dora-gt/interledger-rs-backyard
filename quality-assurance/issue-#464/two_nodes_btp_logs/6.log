    Finished dev [unoptimized + debuginfo] target(s) in 0.22s
     Running target/debug/deps/btp-65f51c48e27f5010

running 1 test
[2m2019-10-29T09:38:04.495076+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: local.host
[2m2019-10-29T09:38:04.496312+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: example.parent
[2m2019-10-29T09:38:04.496380+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-8407793001941860711-616197309779532505.sock"), db: 1, passwd: None } }    
[2m2019-10-29T09:38:04.496996+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-8407793001941860711-616197309779532505.sock"), db: 2, passwd: None } }    
[2m2019-10-29T09:38:04.499975+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:04.500048+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:04.500166+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:04.500149+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:04.501585+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3020
[2m2019-10-29T09:38:04.501609+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3010
[2m2019-10-29T09:38:04.501966+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Settlement API listening on: 127.0.0.1:3021
[2m2019-10-29T09:38:04.501972+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Settlement API listening on: 127.0.0.1:3011
[2m2019-10-29T09:38:04.502177+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:04.502180+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:04.504756+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.504824+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.504887+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.504909+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.506066+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:04.506066+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:04.706878+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.707011+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.707187+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.707270+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.707639+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:04.707887+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:04.904006+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.904155+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.904808+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:04.904889+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:04.904980+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:04.905658+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:05.016891+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for a_on_b: f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.016917+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for bob_on_b: fd7facd7-5a02-4f6d-8c63-abbd49344def    
[2m2019-10-29T09:38:05.019926+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def)), ("example.parent.a_on_b", AccountId(f23441c8-f40e-4331-8651-c63777da3995))]    
[2m2019-10-29T09:38:05.020092+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(f23441c8-f40e-4331-8651-c63777da3995), b"example.parent.bob_on_b": AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def)}    
[2m2019-10-29T09:38:05.020204+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def)), ("example.parent.a_on_b", AccountId(f23441c8-f40e-4331-8651-c63777da3995))]    
[2m2019-10-29T09:38:05.020229+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account fd7facd7-5a02-4f6d-8c63-abbd49344def (ILP address: example.parent.bob_on_b)    
[2m2019-10-29T09:38:05.020324+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.bob_on_b": AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def), b"example.parent.a_on_b": AccountId(f23441c8-f40e-4331-8651-c63777da3995)}    
[2m2019-10-29T09:38:05.020441+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account f23441c8-f40e-4331-8651-c63777da3995 (ILP address: example.parent.a_on_b)    
[2m2019-10-29T09:38:05.021168+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49391 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 13.415241ms    
[2m2019-10-29T09:38:05.021197+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49389 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 13.400124ms    
[2m2019-10-29T09:38:05.039436+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for b_on_a: af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.039460+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for alice_on_a: 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1    
[2m2019-10-29T09:38:05.043389+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("local.host.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.043541+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("local.host.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.043645+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"local.host.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1)}    
[2m2019-10-29T09:38:05.043692+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1), b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)}    
[2m2019-10-29T09:38:05.043763+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account af6d06a5-0422-4f81-a859-0fd5a88dcaa9 (ILP address: local.host.b_on_a)    
[2m2019-10-29T09:38:05.043808+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 (ILP address: local.host.alice_on_a)    
[2m2019-10-29T09:38:05.043920+00:00 [0m[35mTRACE[0m interledger_api::routes::accounts: Newly inserted account has a BTP URL configured, will try to connect    
[2m2019-10-29T09:38:05.044053+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connecting to ws://localhost:3020/ilp/btp    
[2m2019-10-29T09:38:05.044783+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49395 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 13.04924ms    
[2m2019-10-29T09:38:05.049361+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49400 "GET /ilp/btp HTTP/1.1" 101 "-" "-" 315.989Âµs    
[2m2019-10-29T09:38:05.049763+00:00 [0m[35mTRACE[0m interledger_btp::client: Connected to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9 (URI: ws://localhost:3020/ilp/btp), sending auth packet    
[2m2019-10-29T09:38:05.050156+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connected to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9's server    
[2m2019-10-29T09:38:05.050587+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Getting ILP address from parent account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.051116+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=ebb7bb8d-530c-46be-a3e3-ba5f6e48ed1d prepare.destination=peer.config from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.051423+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=ebb7bb8d-530c-46be-a3e3-ba5f6e48ed1d prepare.destination=peer.config from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9, forwarding request to the next service    
[2m2019-10-29T09:38:05.051595+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=ebb7bb8d-530c-46be-a3e3-ba5f6e48ed1d prepare.destination=peer.config from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1273678926 to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.053035+00:00 [0m[34mDEBUG[0m interledger_btp::server: Got BTP connection for username: a_on_b    
[2m2019-10-29T09:38:05.057404+00:00 [0m[34mDEBUG[0m interledger_btp::server: Added connection for account a_on_b: (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.057611+00:00 [0m[34mDEBUG[0m interledger_btp::service: Unable to parse ILP packet from BTP packet (if this is the first time this appears, the packet was probably the auth response)    
[2m2019-10-29T09:38:05.058560+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1273678926 Prepare { destination: Address("peer.config"), amount: 0, expires_at: "2019-10-29T09:38:35.051+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 0 }    
[2m2019-10-29T09:38:05.058852+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1273678926 from account: a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.059399+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c8556c1f-11e7-4139-ab09-8c207edf400d prepare.destination=peer.config prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b")    
[2m2019-10-29T09:38:05.059665+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c8556c1f-11e7-4139-ab09-8c207edf400d prepare.destination=peer.config prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.060662+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1273678926    
[2m2019-10-29T09:38:05.061002+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=ebb7bb8d-530c-46be-a3e3-ba5f6e48ed1d prepare.destination=peer.config from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.061832+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Got ILDCP response from parent: Ok(IldcpResponse { ilp_address: "Address("example.parent.a_on_b")", asset_code: "XYZ", asset_scale: 9 })    
[2m2019-10-29T09:38:05.061936+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: ILP address is now: example.parent.a_on_b    
[2m2019-10-29T09:38:05.062184+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Asking for routes from Account { id: AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), username: Username("b_on_a"), ilp_address: Address("local.host.b_on_a"), asset_code: "XYZ", asset_scale: 9, max_packet_amount: 18446744073709551615, min_balance: None, ilp_over_http_url: None, ilp_over_http_incoming_token: None, ilp_over_http_outgoing_token: None, ilp_over_btp_url: Some("btp+ws://localhost:3020/ilp/btp"), ilp_over_btp_incoming_token: None, ilp_over_btp_outgoing_token: Some(SecretBytes(...)), settle_threshold: None, settle_to: None, routing_relation: Parent, round_trip_time: 500, packets_per_minute_limit: None, amount_per_minute_limit: None, settlement_engine_url: None }    
[2m2019-10-29T09:38:05.062422+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Setting ILP address to: example.parent.a_on_b    
[2m2019-10-29T09:38:05.062670+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=74e60e6d-982d-4bea-997b-a634c4ad3db2 prepare.destination=peer.route.control from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.062866+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=74e60e6d-982d-4bea-997b-a634c4ad3db2 prepare.destination=peer.route.control from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9, forwarding request to the next service    
[2m2019-10-29T09:38:05.063017+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=74e60e6d-982d-4bea-997b-a634c4ad3db2 prepare.destination=peer.route.control from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2781807665 to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.063885+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2781807665 Prepare { destination: Address("peer.route.control"), amount: 0, expires_at: "2019-10-29T09:38:35.062+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 23 }    
[2m2019-10-29T09:38:05.064114+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2781807665 from account: a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.064351+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Set default route to account id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.064703+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route control request from account a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995): RouteControlRequest { mode: Sync, last_known_routing_table_id: "00000000000000000000000000000000", last_known_epoch: 0, features: [] }    
[2m2019-10-29T09:38:05.064926+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Checking whether account was previously listed as unavailable    
[2m2019-10-29T09:38:05.065119+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Sending individual route update to account: f23441c8-f40e-4331-8651-c63777da3995 for epochs from: 0 to: 0    
[2m2019-10-29T09:38:05.065402+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=dc7f7313-e7ba-4bbf-adf7-bdd10521be67 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.065619+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=dc7f7313-e7ba-4bbf-adf7-bdd10521be67 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2351087060 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.066144+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.066578+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2351087060 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:35.065+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:05.066842+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2351087060 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.066998+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2781807665    
[2m2019-10-29T09:38:05.067573+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 0, from_epoch_index: 0, to_epoch_index: 0, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:05.067827+00:00 [0m[33m WARN[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route for a different global prefix: Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }    
[2m2019-10-29T09:38:05.068025+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 999afb8a413a8343936037694a3b39df, epoch: 0    
[2m2019-10-29T09:38:05.068151+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 999afb8a413a8343936037694a3b39df to epoch: 0    
[2m2019-10-29T09:38:05.068282+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:05.068451+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=1aa92821-771c-4b34-9ff3-e5fba5f3635e prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.069148+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2351087060    
[2m2019-10-29T09:38:05.069395+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b7cee23-27f9-4b83-a746-bb4996a062c5 prepare.destination=peer.route.control prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=dc7f7313-e7ba-4bbf-adf7-bdd10521be67 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.075374+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=74e60e6d-982d-4bea-997b-a634c4ad3db2 prepare.destination=peer.route.control from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.075978+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("local.host.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.076155+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"local.host.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1)}    
[2m2019-10-29T09:38:05.077260+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("example.parent.a_on_b.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.077402+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"example.parent.a_on_b.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1)}    
[2m2019-10-29T09:38:05.077879+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49397 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 46.148389ms    
[2m2019-10-29T09:38:05.105339+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Changing ILP address from local.host to example.parent.a_on_b    
[2m2019-10-29T09:38:05.111728+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: local.host.b_on_a -> Account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.111854+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b -> Account: a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.111897+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b.alice_on_a -> Account: alice_on_a (id: 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1)    
[2m2019-10-29T09:38:05.111969+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.bob_on_b -> Account: bob_on_b (id: fd7facd7-5a02-4f6d-8c63-abbd49344def)    
[2m2019-10-29T09:38:05.112978+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:05.112983+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:05.113831+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("example.parent.a_on_b.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.114029+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"example.parent.a_on_b.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1), b"": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)}    
[2m2019-10-29T09:38:05.114069+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(f23441c8-f40e-4331-8651-c63777da3995)), ("example.parent.bob_on_b", AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def))]    
[2m2019-10-29T09:38:05.114216+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.114228+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.bob_on_b": AccountId(fd7facd7-5a02-4f6d-8c63-abbd49344def), b"example.parent.a_on_b": AccountId(f23441c8-f40e-4331-8651-c63777da3995)}    
[2m2019-10-29T09:38:05.114312+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.114403+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.114524+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.115137+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:05.117892+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 0 - 1 to accounts: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] } a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:05.118245+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6bd3b35-ba2c-427d-bb67-49f9e3f78862 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.118461+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6bd3b35-ba2c-427d-bb67-49f9e3f78862 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1985480172 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.119307+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1985480172 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:35.118+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:05.119532+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1985480172 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.119877+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23246577-5cc3-49bd-b3dc-8ab1b5130162 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:05.120114+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23246577-5cc3-49bd-b3dc-8ab1b5130162 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 999afb8a413a8343936037694a3b39df to epoch: 1    
[2m2019-10-29T09:38:05.120265+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23246577-5cc3-49bd-b3dc-8ab1b5130162 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Recalculating best routes for prefixes: example.parent    
[2m2019-10-29T09:38:05.120521+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=23246577-5cc3-49bd-b3dc-8ab1b5130162 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.121196+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1985480172    
[2m2019-10-29T09:38:05.121554+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6bd3b35-ba2c-427d-bb67-49f9e3f78862 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.121795+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:05.132665+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent -> Account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.133912+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 3 routes to Redis    
[2m2019-10-29T09:38:05.134649+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), other routes: [("local.host.b_on_a", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("example.parent", AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)), ("example.parent.a_on_b.alice_on_a", AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1))]    
[2m2019-10-29T09:38:05.134806+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"example.parent.a_on_b.alice_on_a": AccountId(3ccc7620-3acc-4552-ac13-c2ef4d1a70c1), b"example.parent": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9), b"": AccountId(af6d06a5-0422-4f81-a859-0fd5a88dcaa9)}    
[2m2019-10-29T09:38:05.312383+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.312495+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.318286+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.318364+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.318992+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:05.321613+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:05.321957+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6d5d83d-a2c4-4eb7-976b-e49b56f7fa4b prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.322151+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6d5d83d-a2c4-4eb7-976b-e49b56f7fa4b prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1380600297 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.323072+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1380600297 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:35.321+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:05.323318+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1380600297 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.323677+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69ac5c9b-468d-48ce-aa11-ce05d7d4051b prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:05.323866+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69ac5c9b-468d-48ce-aa11-ce05d7d4051b prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 999afb8a413a8343936037694a3b39df, epoch: 1    
[2m2019-10-29T09:38:05.323993+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69ac5c9b-468d-48ce-aa11-ce05d7d4051b prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 999afb8a413a8343936037694a3b39df to epoch: 1    
[2m2019-10-29T09:38:05.324134+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69ac5c9b-468d-48ce-aa11-ce05d7d4051b prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:05.324349+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=69ac5c9b-468d-48ce-aa11-ce05d7d4051b prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.325384+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1380600297    
[2m2019-10-29T09:38:05.325642+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=a6d5d83d-a2c4-4eb7-976b-e49b56f7fa4b prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.325855+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:05.509847+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.509880+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.509950+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.509963+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.510675+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:05.513251+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:05.513520+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=de63c2fa-2d76-42ca-abe2-a60774d4f610 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.513721+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=de63c2fa-2d76-42ca-abe2-a60774d4f610 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 4050158642 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.514412+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 4050158642 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:35.513+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:05.514630+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 4050158642 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.515132+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=a034d301-53d9-4389-8883-8dc2a23c975c prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:05.515317+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=a034d301-53d9-4389-8883-8dc2a23c975c prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 999afb8a413a8343936037694a3b39df, epoch: 1    
[2m2019-10-29T09:38:05.515442+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=a034d301-53d9-4389-8883-8dc2a23c975c prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 999afb8a413a8343936037694a3b39df to epoch: 1    
[2m2019-10-29T09:38:05.515582+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=a034d301-53d9-4389-8883-8dc2a23c975c prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:05.515762+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=a034d301-53d9-4389-8883-8dc2a23c975c prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.516490+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 4050158642    
[2m2019-10-29T09:38:05.516752+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=de63c2fa-2d76-42ca-abe2-a60774d4f610 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.516968+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:05.602831+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3020/accounts/bob_on_b/spsp to URL: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:05.602934+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:05.613472+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg    
[2m2019-10-29T09:38:05.613584+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg")    
[2m2019-10-29T09:38:05.613759+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49406 "GET /accounts/bob_on_b/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.457293ms    
[2m2019-10-29T09:38:05.615172+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg    
[2m2019-10-29T09:38:05.615594+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=da1c6fd2-935b-4217-86f1-b397af1217eb prepare.destination=peer.config prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b.alice_on_a")    
[2m2019-10-29T09:38:05.615794+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=da1c6fd2-935b-4217-86f1-b397af1217eb prepare.destination=peer.config prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.616091+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.a_on_b.alice_on_a")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:05.616233+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 1000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.a_on_b.alice_on_a } ] }    
[2m2019-10-29T09:38:05.616434+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 1000, amount in flight is now: 1000    
[2m2019-10-29T09:38:05.616755+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg". Prefix: "example.parent", account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.619402+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 to outgoing amount of: 1000 XYZ (scale 9) for account af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.621402+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:05.621668+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9, forwarding request to the next service    
[2m2019-10-29T09:38:05.621848+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3357479789 to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.622582+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3357479789 Prepare { destination: Address("example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg"), amount: 1000, expires_at: "2019-10-29T09:38:34.616+00:00", execution_condition: "a7568d2cdf45221ce1d912d60619b4576d4a5e8b7a2924d1bee30bc174663ae4", data_length: 77 }    
[2m2019-10-29T09:38:05.622818+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3357479789 from account: a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.623228+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=3ab6921d-2c00-4d28-a1dc-b79eecbce03e prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg". Prefix: "example.parent.bob_on_b", account: fd7facd7-5a02-4f6d-8c63-abbd49344def    
[2m2019-10-29T09:38:05.625801+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=3ab6921d-2c00-4d28-a1dc-b79eecbce03e prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=fd7facd7-5a02-4f6d-8c63-abbd49344def prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account f23441c8-f40e-4331-8651-c63777da3995 to outgoing amount of: 1000 XYZ (scale 9) for account fd7facd7-5a02-4f6d-8c63-abbd49344def    
[2m2019-10-29T09:38:05.626511+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=3ab6921d-2c00-4d28-a1dc-b79eecbce03e prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=fd7facd7-5a02-4f6d-8c63-abbd49344def prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account f23441c8-f40e-4331-8651-c63777da3995 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:05.626822+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=3ab6921d-2c00-4d28-a1dc-b79eecbce03e prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=fd7facd7-5a02-4f6d-8c63-abbd49344def prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 1000 with fulfillment: 9ae34911dad8262733306684bb632dfeb619b9de487c1a780a55979c335c8986 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 1000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:05.627632+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=3ab6921d-2c00-4d28-a1dc-b79eecbce03e prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=9ae34911dad8262733306684bb632dfeb619b9de487c1a780a55979c335c8986[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.628194+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"bob_on_b","from_username":"a_on_b","destination":"example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg","amount":1000,"timestamp":"2019-10-29T09:38:05.627039+00:00"} for account fd7facd7-5a02-4f6d-8c63-abbd49344def    
[2m2019-10-29T09:38:05.628756+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 3357479789    
[2m2019-10-29T09:38:05.629434+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=371cc066-6bd0-49fb-a1b6-611f85760376 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=1000 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=9ae34911dad8262733306684bb632dfeb619b9de487c1a780a55979c335c8986[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.629732+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 1000, doubling max in flight to: 2000    
[2m2019-10-29T09:38:05.629941+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 1000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:05.630191+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:05.630320+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account fd7facd7-5a02-4f6d-8c63-abbd49344def for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:05.630381+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account af6d06a5-0422-4f81-a859-0fd5a88dcaa9 for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:05.630455+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:05.630532+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:05.630738+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a4e61e71-9389-4ec2-96be-8eb3f96ce080 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg". Prefix: "example.parent", account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.634392+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a4e61e71-9389-4ec2-96be-8eb3f96ce080 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: af6d06a5-0422-4f81-a859-0fd5a88dcaa9, forwarding request to the next service    
[2m2019-10-29T09:38:05.634672+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a4e61e71-9389-4ec2-96be-8eb3f96ce080 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2406311644 to account af6d06a5-0422-4f81-a859-0fd5a88dcaa9    
[2m2019-10-29T09:38:05.636773+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2406311644 Prepare { destination: Address("example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg"), amount: 0, expires_at: "2019-10-29T09:38:34.630+00:00", execution_condition: "95a662a7dc3ca508e2e3680caa23511f236a836247a3bb99c68c50464f1d9639", data_length: 40 }    
[2m2019-10-29T09:38:05.637087+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2406311644 from account: a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995)    
[2m2019-10-29T09:38:05.637462+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c80445e-3368-41ab-82e1-01202dda7836 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg". Prefix: "example.parent.bob_on_b", account: fd7facd7-5a02-4f6d-8c63-abbd49344def    
[2m2019-10-29T09:38:05.640760+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c80445e-3368-41ab-82e1-01202dda7836 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=fd7facd7-5a02-4f6d-8c63-abbd49344def prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:05.640993+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c80445e-3368-41ab-82e1-01202dda7836 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=fd7facd7-5a02-4f6d-8c63-abbd49344def prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:05.641270+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account fd7facd7-5a02-4f6d-8c63-abbd49344def: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg"), amount: 1000, timestamp: "2019-10-29T09:38:05.627039+00:00" }    
[2m2019-10-29T09:38:05.641262+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account fd7facd7-5a02-4f6d-8c63-abbd49344def: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg"), amount: 1000, timestamp: "2019-10-29T09:38:05.627039+00:00" }    
[2m2019-10-29T09:38:05.641359+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=7c80445e-3368-41ab-82e1-01202dda7836 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:05.641407+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account fd7facd7-5a02-4f6d-8c63-abbd49344def because there were no open subscriptions    
[2m2019-10-29T09:38:05.641418+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account fd7facd7-5a02-4f6d-8c63-abbd49344def because there were no open subscriptions    
[2m2019-10-29T09:38:05.642341+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 2406311644    
[2m2019-10-29T09:38:05.642696+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a4e61e71-9389-4ec2-96be-8eb3f96ce080 prepare.destination=example.parent.bob_on_b.p3Ww98pVi3vvvzSMu9_ZSq3h5uiuY2RQVPzHNFFSesg prepare.amount=0 from.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:05.642886+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:05.642972+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 1000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:05.643048+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 1000 and delivered 1000 of the receiver's units    
[2m2019-10-29T09:38:05.643135+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 1000 of the receiver's units    
[2m2019-10-29T09:38:05.643287+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49403 "POST /accounts/alice_on_a/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 57.668076ms    
[2m2019-10-29T09:38:05.660994+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49410 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.050356ms    
[2m2019-10-29T09:38:05.661244+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49412 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.418171ms    
[2m2019-10-29T09:38:05.674730+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3010/accounts/alice_on_a/spsp to URL: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:05.674835+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:05.685299+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE    
[2m2019-10-29T09:38:05.685406+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE")    
[2m2019-10-29T09:38:05.685572+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49418 "GET /accounts/alice_on_a/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.296168ms    
[2m2019-10-29T09:38:05.686862+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE    
[2m2019-10-29T09:38:05.687285+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=6588d548-9f16-415b-a6a0-312e93983bcb prepare.destination=peer.config prepare.amount=0 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.bob_on_b")    
[2m2019-10-29T09:38:05.687467+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=6588d548-9f16-415b-a6a0-312e93983bcb prepare.destination=peer.config prepare.amount=0 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.687713+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.bob_on_b")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:05.687842+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 2000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.bob_on_b } ] }    
[2m2019-10-29T09:38:05.688027+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 2000, amount in flight is now: 2000    
[2m2019-10-29T09:38:05.688340+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d58f6cbb-c647-4b77-b60f-488d779df5b2 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE". Prefix: "example.parent.a_on_b", account: f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.690995+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d58f6cbb-c647-4b77-b60f-488d779df5b2 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=f23441c8-f40e-4331-8651-c63777da3995 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account fd7facd7-5a02-4f6d-8c63-abbd49344def to outgoing amount of: 2000 XYZ (scale 9) for account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.692042+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d58f6cbb-c647-4b77-b60f-488d779df5b2 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=f23441c8-f40e-4331-8651-c63777da3995 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account fd7facd7-5a02-4f6d-8c63-abbd49344def has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:05.692363+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d58f6cbb-c647-4b77-b60f-488d779df5b2 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=f23441c8-f40e-4331-8651-c63777da3995 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 172461360 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.693462+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 172461360 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE"), amount: 2000, expires_at: "2019-10-29T09:38:34.687+00:00", execution_condition: "adfa49ab5d42a6eb802eb97352b69378732e226c36d2b138611e210293c3ce8f", data_length: 68 }    
[2m2019-10-29T09:38:05.693696+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 172461360 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.694052+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=565e49c8-e00e-4d5d-aaf7-055bfde30504 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE". Prefix: "example.parent.a_on_b.alice_on_a", account: 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1    
[2m2019-10-29T09:38:05.697014+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=565e49c8-e00e-4d5d-aaf7-055bfde30504 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9 to outgoing amount of: 2000 XYZ (scale 9) for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1    
[2m2019-10-29T09:38:05.697768+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=565e49c8-e00e-4d5d-aaf7-055bfde30504 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account af6d06a5-0422-4f81-a859-0fd5a88dcaa9 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:05.698072+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=565e49c8-e00e-4d5d-aaf7-055bfde30504 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 2000 with fulfillment: 3edef2278a20ee0f7aff2d62e741ba774d5309551ab8106c1a9732007f6d6493 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 2000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:05.698575+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=565e49c8-e00e-4d5d-aaf7-055bfde30504 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=3edef2278a20ee0f7aff2d62e741ba774d5309551ab8106c1a9732007f6d6493[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.699053+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"alice_on_a","from_username":"b_on_a","destination":"example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE","amount":2000,"timestamp":"2019-10-29T09:38:05.698285+00:00"} for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1    
[2m2019-10-29T09:38:05.699154+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:05.699290+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:05.699470+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 172461360    
[2m2019-10-29T09:38:05.699983+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d58f6cbb-c647-4b77-b60f-488d779df5b2 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=2000 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=3edef2278a20ee0f7aff2d62e741ba774d5309551ab8106c1a9732007f6d6493[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.700257+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 2000, doubling max in flight to: 4000    
[2m2019-10-29T09:38:05.700364+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 2000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:05.700513+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:05.700595+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account f23441c8-f40e-4331-8651-c63777da3995 for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:05.700713+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:05.700891+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a068cf92-5215-4aab-8aff-0b577bda8391 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE". Prefix: "example.parent.a_on_b", account: f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.703555+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE"), amount: 2000, timestamp: "2019-10-29T09:38:05.698285+00:00" }    
[2m2019-10-29T09:38:05.703681+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 because there were no open subscriptions    
[2m2019-10-29T09:38:05.703778+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE"), amount: 2000, timestamp: "2019-10-29T09:38:05.698285+00:00" }    
[2m2019-10-29T09:38:05.703962+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 because there were no open subscriptions    
[2m2019-10-29T09:38:05.704327+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a068cf92-5215-4aab-8aff-0b577bda8391 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=f23441c8-f40e-4331-8651-c63777da3995 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1639981464 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.705409+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1639981464 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE"), amount: 0, expires_at: "2019-10-29T09:38:34.700+00:00", execution_condition: "986292770cd7418c1a30662e65781840ed4fc21ec3ab79e69cb62f313c26bb9a", data_length: 40 }    
[2m2019-10-29T09:38:05.705683+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1639981464 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.706159+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=04a147dc-b002-4c95-b22a-9f9477c54934 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE". Prefix: "example.parent.a_on_b.alice_on_a", account: 3ccc7620-3acc-4552-ac13-c2ef4d1a70c1    
[2m2019-10-29T09:38:05.708088+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.708183+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.708897+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:05.709341+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=04a147dc-b002-4c95-b22a-9f9477c54934 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:05.709487+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=04a147dc-b002-4c95-b22a-9f9477c54934 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=3ccc7620-3acc-4552-ac13-c2ef4d1a70c1 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:05.709785+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=04a147dc-b002-4c95-b22a-9f9477c54934 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:05.710707+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:05.710787+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:05.711282+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 1639981464    
[2m2019-10-29T09:38:05.711760+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a068cf92-5215-4aab-8aff-0b577bda8391 prepare.destination=example.parent.a_on_b.alice_on_a.diSkFLwluW-SED-x_hgbW6j6AVO0UI2HDXxnNChWPDE prepare.amount=0 from.id=fd7facd7-5a02-4f6d-8c63-abbd49344def[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:05.711992+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:05.712079+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 2000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:05.712155+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 2000 and delivered 2000 of the receiver's units    
[2m2019-10-29T09:38:05.712242+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 2000 of the receiver's units    
[2m2019-10-29T09:38:05.712435+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49415 "POST /accounts/bob_on_b/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 45.266279ms    
[2m2019-10-29T09:38:05.715261+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: f23441c8-f40e-4331-8651-c63777da3995, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:05.715568+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=cbbf6422-85b0-4d32-b8f8-c3e7d5d91c54 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:05.715765+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=cbbf6422-85b0-4d32-b8f8-c3e7d5d91c54 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3889396444 to account f23441c8-f40e-4331-8651-c63777da3995    
[2m2019-10-29T09:38:05.716651+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3889396444 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:35.715+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:05.716881+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3889396444 from account: b_on_a (id: af6d06a5-0422-4f81-a859-0fd5a88dcaa9)    
[2m2019-10-29T09:38:05.717219+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=ae748d5c-0b46-49a7-afc5-5ed76d62ce79 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account af6d06a5-0422-4f81-a859-0fd5a88dcaa9: RouteUpdateRequest { routing_table_id: "999afb8a413a8343936037694a3b39df", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:05.717404+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=ae748d5c-0b46-49a7-afc5-5ed76d62ce79 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 999afb8a413a8343936037694a3b39df, epoch: 1    
[2m2019-10-29T09:38:05.717529+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=ae748d5c-0b46-49a7-afc5-5ed76d62ce79 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 999afb8a413a8343936037694a3b39df to epoch: 1    
[2m2019-10-29T09:38:05.717649+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=ae748d5c-0b46-49a7-afc5-5ed76d62ce79 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:05.717817+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=ae748d5c-0b46-49a7-afc5-5ed76d62ce79 prepare.destination=peer.route.update prepare.amount=0 from.id=af6d06a5-0422-4f81-a859-0fd5a88dcaa9[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.718490+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 3889396444    
[2m2019-10-29T09:38:05.718756+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=cbbf6422-85b0-4d32-b8f8-c3e7d5d91c54 prepare.destination=peer.route.update from.id=f23441c8-f40e-4331-8651-c63777da3995 to.id=f23441c8-f40e-4331-8651-c63777da3995[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:05.718969+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:05.730553+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49424 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.536839ms    
[2m2019-10-29T09:38:05.730554+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49422 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.537747ms    
[2m2019-10-29T09:38:05.734642+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
[2m2019-10-29T09:38:05.734684+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
test two_nodes_btp ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

