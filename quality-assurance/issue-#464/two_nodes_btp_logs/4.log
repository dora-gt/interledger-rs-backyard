    Finished dev [unoptimized + debuginfo] target(s) in 0.23s
     Running target/debug/deps/btp-65f51c48e27f5010

running 1 test
[2m2019-10-29T09:38:00.882619+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: local.host
[2m2019-10-29T09:38:00.883900+00:00 [0m[34mDEBUG[0m interledger-node: Starting Interledger node with ILP address: example.parent
[2m2019-10-29T09:38:00.884018+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-12092799326892728819-17286147496477363037.sock"), db: 1, passwd: None } }    
[2m2019-10-29T09:38:00.884443+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger_store_redis::store: Connected subscription client to redis: Client { connection_info: ConnectionInfo { addr: Unix("/tmp/redis-rs-test-12092799326892728819-17286147496477363037.sock"), db: 2, passwd: None } }    
[2m2019-10-29T09:38:00.887462+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:00.887612+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:00.888617+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3010
[2m2019-10-29T09:38:00.888615+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Interledger.rs node HTTP API listening on: 127.0.0.1:3020
[2m2019-10-29T09:38:00.888867+00:00 [0m[32m INFO[0m [1mnode_b[0m: interledger-node: Settlement API listening on: 127.0.0.1:3021
[2m2019-10-29T09:38:00.888872+00:00 [0m[32m INFO[0m [1mnode_a[0m: interledger-node: Settlement API listening on: 127.0.0.1:3011
[2m2019-10-29T09:38:00.889025+00:00 [0m[34mDEBUG[0m [1mnode_a[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:00.889015+00:00 [0m[34mDEBUG[0m [1mnode_b[0m: interledger-node: Not using exchange rate provider. Rates must be set via the HTTP API
[2m2019-10-29T09:38:00.889558+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: []    
[2m2019-10-29T09:38:00.889678+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {}    
[2m2019-10-29T09:38:00.892105+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:00.892169+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:00.892216+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:00.892267+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:00.893377+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:00.893384+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.093244+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.093244+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.093413+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.093424+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.094267+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.094274+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.294985+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.294985+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.295126+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.295143+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.295726+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.295754+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.401654+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for a_on_b: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:01.404741+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f))]    
[2m2019-10-29T09:38:01.404905+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)}    
[2m2019-10-29T09:38:01.405005+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f (ILP address: example.parent.a_on_b)    
[2m2019-10-29T09:38:01.405830+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49306 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 12.066287ms    
[2m2019-10-29T09:38:01.410543+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for bob_on_b: 833af7af-4445-4867-a775-18258bcac174    
[2m2019-10-29T09:38:01.412958+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.a_on_b", AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)), ("example.parent.bob_on_b", AccountId(833af7af-4445-4867-a775-18258bcac174))]    
[2m2019-10-29T09:38:01.413098+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.bob_on_b": AccountId(833af7af-4445-4867-a775-18258bcac174), b"example.parent.a_on_b": AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)}    
[2m2019-10-29T09:38:01.413212+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account 833af7af-4445-4867-a775-18258bcac174 (ILP address: example.parent.bob_on_b)    
[2m2019-10-29T09:38:01.414114+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49308 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 11.652126ms    
[2m2019-10-29T09:38:01.424963+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for alice_on_a: dacc0e1f-5682-419e-821d-2c7ef558faae    
[2m2019-10-29T09:38:01.425122+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Generated account id for b_on_a: bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:01.427782+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)), ("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f))]    
[2m2019-10-29T09:38:01.427972+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae), b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)}    
[2m2019-10-29T09:38:01.427997+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("local.host.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)), ("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f))]    
[2m2019-10-29T09:38:01.428103+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account dacc0e1f-5682-419e-821d-2c7ef558faae (ILP address: local.host.alice_on_a)    
[2m2019-10-29T09:38:01.428140+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae), b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)}    
[2m2019-10-29T09:38:01.428252+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Inserted account bc1749e2-e779-467c-b295-7fc20dd2877f (ILP address: local.host.b_on_a)    
[2m2019-10-29T09:38:01.428399+00:00 [0m[35mTRACE[0m interledger_api::routes::accounts: Newly inserted account has a BTP URL configured, will try to connect    
[2m2019-10-29T09:38:01.428554+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connecting to ws://localhost:3020/ilp/btp    
[2m2019-10-29T09:38:01.429288+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49312 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 7.258005ms    
[2m2019-10-29T09:38:01.433739+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49317 "GET /ilp/btp HTTP/1.1" 101 "-" "-" 335.435Âµs    
[2m2019-10-29T09:38:01.434181+00:00 [0m[35mTRACE[0m interledger_btp::client: Connected to account bc1749e2-e779-467c-b295-7fc20dd2877f (URI: ws://localhost:3020/ilp/btp), sending auth packet    
[2m2019-10-29T09:38:01.434550+00:00 [0m[34mDEBUG[0m interledger_btp::client: Connected to account bc1749e2-e779-467c-b295-7fc20dd2877f's server    
[2m2019-10-29T09:38:01.434823+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Getting ILP address from parent account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.435521+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b3e9af73-dd51-4f3a-94ba-48e54d4493c7 prepare.destination=peer.config from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.435784+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b3e9af73-dd51-4f3a-94ba-48e54d4493c7 prepare.destination=peer.config from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: bc1749e2-e779-467c-b295-7fc20dd2877f, forwarding request to the next service    
[2m2019-10-29T09:38:01.435917+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b3e9af73-dd51-4f3a-94ba-48e54d4493c7 prepare.destination=peer.config from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3849822481 to account bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:01.440740+00:00 [0m[34mDEBUG[0m interledger_btp::server: Got BTP connection for username: a_on_b    
[2m2019-10-29T09:38:01.444662+00:00 [0m[34mDEBUG[0m interledger_btp::server: Added connection for account a_on_b: (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:01.444927+00:00 [0m[34mDEBUG[0m interledger_btp::service: Unable to parse ILP packet from BTP packet (if this is the first time this appears, the packet was probably the auth response)    
[2m2019-10-29T09:38:01.445646+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3849822481 Prepare { destination: Address("peer.config"), amount: 0, expires_at: "2019-10-29T09:38:31.435+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 0 }    
[2m2019-10-29T09:38:01.445911+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3849822481 from account: a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:01.446486+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=f6e143a7-0b4e-4aa2-89e3-546a4230f1f9 prepare.destination=peer.config prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b")    
[2m2019-10-29T09:38:01.446724+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=f6e143a7-0b4e-4aa2-89e3-546a4230f1f9 prepare.destination=peer.config prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.447407+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 3849822481    
[2m2019-10-29T09:38:01.447808+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b3e9af73-dd51-4f3a-94ba-48e54d4493c7 prepare.destination=peer.config from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.448474+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Got ILDCP response from parent: Ok(IldcpResponse { ilp_address: "Address("example.parent.a_on_b")", asset_code: "XYZ", asset_scale: 9 })    
[2m2019-10-29T09:38:01.448575+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: ILP address is now: example.parent.a_on_b    
[2m2019-10-29T09:38:01.448822+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Asking for routes from Account { id: AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), username: Username("b_on_a"), ilp_address: Address("local.host.b_on_a"), asset_code: "XYZ", asset_scale: 9, max_packet_amount: 18446744073709551615, min_balance: None, ilp_over_http_url: None, ilp_over_http_incoming_token: None, ilp_over_http_outgoing_token: None, ilp_over_btp_url: Some("btp+ws://localhost:3020/ilp/btp"), ilp_over_btp_incoming_token: None, ilp_over_btp_outgoing_token: Some(SecretBytes(...)), settle_threshold: None, settle_to: None, routing_relation: Parent, round_trip_time: 500, packets_per_minute_limit: None, amount_per_minute_limit: None, settlement_engine_url: None }    
[2m2019-10-29T09:38:01.449006+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Setting ILP address to: example.parent.a_on_b    
[2m2019-10-29T09:38:01.449254+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b4ae558f-f65b-4c3a-86e6-670026cb7ca3 prepare.destination=peer.route.control from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.449444+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b4ae558f-f65b-4c3a-86e6-670026cb7ca3 prepare.destination=peer.route.control from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: bc1749e2-e779-467c-b295-7fc20dd2877f, forwarding request to the next service    
[2m2019-10-29T09:38:01.449595+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b4ae558f-f65b-4c3a-86e6-670026cb7ca3 prepare.destination=peer.route.control from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1358174693 to account bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:01.450314+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1358174693 Prepare { destination: Address("peer.route.control"), amount: 0, expires_at: "2019-10-29T09:38:31.449+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 23 }    
[2m2019-10-29T09:38:01.450563+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1358174693 from account: a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:01.450979+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route control request from account a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f): RouteControlRequest { mode: Sync, last_known_routing_table_id: "00000000000000000000000000000000", last_known_epoch: 0, features: [] }    
[2m2019-10-29T09:38:01.451129+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Set default route to account id: bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:01.451131+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Checking whether account was previously listed as unavailable    
[2m2019-10-29T09:38:01.451345+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Sending individual route update to account: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f for epochs from: 0 to: 0    
[2m2019-10-29T09:38:01.451575+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=6a91033b-7ec5-4d5b-88e1-47f7986cfece prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.451785+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=6a91033b-7ec5-4d5b-88e1-47f7986cfece prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2373518597 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:01.452264+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.452976+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2373518597 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:31.451+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:01.453199+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2373518597 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.453281+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1358174693    
[2m2019-10-29T09:38:01.453852+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account bc1749e2-e779-467c-b295-7fc20dd2877f: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 0, from_epoch_index: 0, to_epoch_index: 0, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:01.454060+00:00 [0m[33m WARN[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route for a different global prefix: Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }    
[2m2019-10-29T09:38:01.454246+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 4669f4179b2ab8ee4c3890d430a9c868, epoch: 0    
[2m2019-10-29T09:38:01.454372+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 4669f4179b2ab8ee4c3890d430a9c868 to epoch: 0    
[2m2019-10-29T09:38:01.454504+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:01.454668+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c6175841-aa2a-4b64-a0c2-3d961ce6314f prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.455332+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 2373518597    
[2m2019-10-29T09:38:01.455586+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=22a66e2c-8e64-41c3-8856-b1d8a1ceac63 prepare.destination=peer.route.control prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1moutgoing[0m[1m{[0mrequest.id=6a91033b-7ec5-4d5b-88e1-47f7986cfece prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.461379+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1moutgoing[0m[1m{[0mrequest.id=b4ae558f-f65b-4c3a-86e6-670026cb7ca3 prepare.destination=peer.route.control from.id=bc1749e2-e779-467c-b295-7fc20dd2877f to.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9 to.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.461865+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), other routes: [("local.host.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)), ("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f))]    
[2m2019-10-29T09:38:01.462013+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae), b"": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)}    
[2m2019-10-29T09:38:01.462955+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), other routes: [("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), ("example.parent.a_on_b.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae))]    
[2m2019-10-29T09:38:01.463089+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"example.parent.a_on_b.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)}    
[2m2019-10-29T09:38:01.463409+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49314 "POST /accounts HTTP/1.1" 200 "-" "reqwest/0.9.22" 41.353984ms    
[2m2019-10-29T09:38:01.491578+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Changing ILP address from local.host to example.parent.a_on_b    
[2m2019-10-29T09:38:01.497093+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b.alice_on_a -> Account: alice_on_a (id: dacc0e1f-5682-419e-821d-2c7ef558faae)    
[2m2019-10-29T09:38:01.497246+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: local.host.b_on_a -> Account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.502721+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.bob_on_b -> Account: bob_on_b (id: 833af7af-4445-4867-a775-18258bcac174)    
[2m2019-10-29T09:38:01.502840+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent.a_on_b -> Account: a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:01.503440+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:01.503604+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 2 routes to Redis    
[2m2019-10-29T09:38:01.504352+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), other routes: [("example.parent.a_on_b.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)), ("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f))]    
[2m2019-10-29T09:38:01.504397+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: None, other routes: [("example.parent.bob_on_b", AccountId(833af7af-4445-4867-a775-18258bcac174)), ("example.parent.a_on_b", AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f))]    
[2m2019-10-29T09:38:01.504513+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b": AccountId(bb4ae1bd-55d7-464f-83d0-18e5d3338d5f), b"example.parent.bob_on_b": AccountId(833af7af-4445-4867-a775-18258bcac174)}    
[2m2019-10-29T09:38:01.504513+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"example.parent.a_on_b.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)}    
[2m2019-10-29T09:38:01.504642+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.504653+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.504715+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.504724+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.505354+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.512928+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 0 - 1 to accounts: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] } a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:01.513374+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=fc8e4242-1d17-488a-ae20-d2a335ad2cd8 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.513620+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=fc8e4242-1d17-488a-ae20-d2a335ad2cd8 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3505764243 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:01.514777+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3505764243 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:31.513+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 102 }    
[2m2019-10-29T09:38:01.515014+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3505764243 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.515352+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c3a0e644-fc00-4243-ab81-32ad423c3685 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account bc1749e2-e779-467c-b295-7fc20dd2877f: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 0, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [Route { prefix: "example.parent", path: [], auth: "0000000000000000000000000000000000000000000000000000000000000000", props: [] }], withdrawn_routes: [] }    
[2m2019-10-29T09:38:01.515588+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c3a0e644-fc00-4243-ab81-32ad423c3685 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 4669f4179b2ab8ee4c3890d430a9c868 to epoch: 1    
[2m2019-10-29T09:38:01.515741+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c3a0e644-fc00-4243-ab81-32ad423c3685 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Recalculating best routes for prefixes: example.parent    
[2m2019-10-29T09:38:01.516014+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=c3a0e644-fc00-4243-ab81-32ad423c3685 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.517404+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 3505764243    
[2m2019-10-29T09:38:01.517864+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=fc8e4242-1d17-488a-ae20-d2a335ad2cd8 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.518153+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:01.522066+00:00 [0m[34mDEBUG[0m interledger_ccp::server: Setting new route for prefix: example.parent -> Account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.523404+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Saved 3 routes to Redis    
[2m2019-10-29T09:38:01.524376+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Loaded routes from redis. Static routes: [], default route: Some(AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), other routes: [("example.parent", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)), ("example.parent.a_on_b.alice_on_a", AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae)), ("local.host.b_on_a", AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f))]    
[2m2019-10-29T09:38:01.524627+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Routing table is: {b"example.parent.a_on_b.alice_on_a": AccountId(dacc0e1f-5682-419e-821d-2c7ef558faae), b"": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"local.host.b_on_a": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f), b"example.parent": AccountId(bc1749e2-e779-467c-b295-7fc20dd2877f)}    
[2m2019-10-29T09:38:01.696612+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.696755+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.699684+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:01.700044+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecb1a122-7bb6-4f1f-b976-589a09f3c768 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.700265+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecb1a122-7bb6-4f1f-b976-589a09f3c768 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 625548517 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:01.701194+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 625548517 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:31.700+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:01.701474+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 625548517 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.701919+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=57d56eb7-f8c3-4057-a1fe-eda7d4cb1e08 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account bc1749e2-e779-467c-b295-7fc20dd2877f: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:01.702154+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=57d56eb7-f8c3-4057-a1fe-eda7d4cb1e08 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 4669f4179b2ab8ee4c3890d430a9c868, epoch: 1    
[2m2019-10-29T09:38:01.702357+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=57d56eb7-f8c3-4057-a1fe-eda7d4cb1e08 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 4669f4179b2ab8ee4c3890d430a9c868 to epoch: 1    
[2m2019-10-29T09:38:01.702485+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=57d56eb7-f8c3-4057-a1fe-eda7d4cb1e08 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:01.702697+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=57d56eb7-f8c3-4057-a1fe-eda7d4cb1e08 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.702752+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.702831+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.703399+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 625548517    
[2m2019-10-29T09:38:01.703524+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.703635+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=ecb1a122-7bb6-4f1f-b976-589a09f3c768 prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.703853+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:01.896552+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.896706+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.897875+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:01.897954+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:01.898529+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:01.899811+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:01.900073+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2d709068-823e-4a90-a0cb-f8b8ba8aa7bd prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:01.900276+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2d709068-823e-4a90-a0cb-f8b8ba8aa7bd prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 1946405113 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:01.901016+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 1946405113 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:31.900+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:01.901240+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 1946405113 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:01.901562+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=e29e6411-d4d8-45e2-b767-8be587b17687 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account bc1749e2-e779-467c-b295-7fc20dd2877f: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:01.901745+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=e29e6411-d4d8-45e2-b767-8be587b17687 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 4669f4179b2ab8ee4c3890d430a9c868, epoch: 1    
[2m2019-10-29T09:38:01.901870+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=e29e6411-d4d8-45e2-b767-8be587b17687 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 4669f4179b2ab8ee4c3890d430a9c868 to epoch: 1    
[2m2019-10-29T09:38:01.902007+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=e29e6411-d4d8-45e2-b767-8be587b17687 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:01.902180+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=e29e6411-d4d8-45e2-b767-8be587b17687 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.902818+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 1946405113    
[2m2019-10-29T09:38:01.903082+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=2d709068-823e-4a90-a0cb-f8b8ba8aa7bd prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.903298+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:01.978426+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3020/accounts/bob_on_b/spsp to URL: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:01.978556+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3020/accounts/bob_on_b/spsp    
[2m2019-10-29T09:38:01.989358+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U    
[2m2019-10-29T09:38:01.989497+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U")    
[2m2019-10-29T09:38:01.989696+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49324 "GET /accounts/bob_on_b/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.676427ms    
[2m2019-10-29T09:38:01.991832+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U    
[2m2019-10-29T09:38:01.992427+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=735d336f-aea2-4d79-b292-2c3f421fde39 prepare.destination=peer.config prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.a_on_b.alice_on_a")    
[2m2019-10-29T09:38:01.992663+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=735d336f-aea2-4d79-b292-2c3f421fde39 prepare.destination=peer.config prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:01.993178+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.a_on_b.alice_on_a")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:01.993447+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 1000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.a_on_b.alice_on_a } ] }    
[2m2019-10-29T09:38:01.993747+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 1000, amount in flight is now: 1000    
[2m2019-10-29T09:38:01.994387+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U". Prefix: "example.parent", account: bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:01.997547+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account dacc0e1f-5682-419e-821d-2c7ef558faae to outgoing amount of: 1000 XYZ (scale 9) for account bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:02.000406+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account dacc0e1f-5682-419e-821d-2c7ef558faae has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:02.000986+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: bc1749e2-e779-467c-b295-7fc20dd2877f, forwarding request to the next service    
[2m2019-10-29T09:38:02.001241+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 507781351 to account bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:02.002505+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 507781351 Prepare { destination: Address("example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U"), amount: 1000, expires_at: "2019-10-29T09:38:30.993+00:00", execution_condition: "6a7e1285b378f8a095f9c22a8b6288f962a065571a65f59df439e4c021e781f9", data_length: 77 }    
[2m2019-10-29T09:38:02.002780+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 507781351 from account: a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:02.003232+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b52cee0-bee4-4dc2-8f77-7847af962a3a prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U". Prefix: "example.parent.bob_on_b", account: 833af7af-4445-4867-a775-18258bcac174    
[2m2019-10-29T09:38:02.006173+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b52cee0-bee4-4dc2-8f77-7847af962a3a prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=833af7af-4445-4867-a775-18258bcac174 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 1000 XYZ (scale 9) from account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to outgoing amount of: 1000 XYZ (scale 9) for account 833af7af-4445-4867-a775-18258bcac174    
[2m2019-10-29T09:38:02.006971+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b52cee0-bee4-4dc2-8f77-7847af962a3a prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=833af7af-4445-4867-a775-18258bcac174 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 1000. Account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:02.007320+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b52cee0-bee4-4dc2-8f77-7847af962a3a prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=833af7af-4445-4867-a775-18258bcac174 prepare.amount=1000[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 1000 with fulfillment: cc9b11cf4e0fbaa22d97f35a89ac5ee3715c8bc909e085febd58777c49541e78 and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 1000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:02.008052+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=4b52cee0-bee4-4dc2-8f77-7847af962a3a prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=cc9b11cf4e0fbaa22d97f35a89ac5ee3715c8bc909e085febd58777c49541e78[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.008349+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"bob_on_b","from_username":"a_on_b","destination":"example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U","amount":1000,"timestamp":"2019-10-29T09:38:02.007562+00:00"} for account 833af7af-4445-4867-a775-18258bcac174    
[2m2019-10-29T09:38:02.009079+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 507781351    
[2m2019-10-29T09:38:02.009702+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=a1f786eb-3b9b-49dd-93e4-f560aa4cfa67 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=1000 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=cc9b11cf4e0fbaa22d97f35a89ac5ee3715c8bc909e085febd58777c49541e78[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.009998+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 1000, doubling max in flight to: 2000    
[2m2019-10-29T09:38:02.009991+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account 833af7af-4445-4867-a775-18258bcac174 for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:02.010160+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 1000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:02.010162+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:02.010377+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:02.010770+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=29e43775-f596-4110-8885-db97f8cd0ed7 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U". Prefix: "example.parent", account: bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:02.011357+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account bc1749e2-e779-467c-b295-7fc20dd2877f for outgoing amount 1000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:02.011450+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:02.013552+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=29e43775-f596-4110-8885-db97f8cd0ed7 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: No open connection for account: bc1749e2-e779-467c-b295-7fc20dd2877f, forwarding request to the next service    
[2m2019-10-29T09:38:02.013826+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=29e43775-f596-4110-8885-db97f8cd0ed7 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bc1749e2-e779-467c-b295-7fc20dd2877f prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=alice_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 4294237808 to account bc1749e2-e779-467c-b295-7fc20dd2877f    
[2m2019-10-29T09:38:02.014745+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 4294237808 Prepare { destination: Address("example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U"), amount: 0, expires_at: "2019-10-29T09:38:31.010+00:00", execution_condition: "b8b64337c6690d93e71f3e20868c533678d697788e5dff9c198386edf83764be", data_length: 40 }    
[2m2019-10-29T09:38:02.015010+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 4294237808 from account: a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f)    
[2m2019-10-29T09:38:02.015364+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=2d48bef3-789d-4e33-b827-1504185e238b prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U". Prefix: "example.parent.bob_on_b", account: 833af7af-4445-4867-a775-18258bcac174    
[2m2019-10-29T09:38:02.018505+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=2d48bef3-789d-4e33-b827-1504185e238b prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=833af7af-4445-4867-a775-18258bcac174 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:02.018765+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=2d48bef3-789d-4e33-b827-1504185e238b prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=833af7af-4445-4867-a775-18258bcac174 prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:02.019139+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 833af7af-4445-4867-a775-18258bcac174: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U"), amount: 1000, timestamp: "2019-10-29T09:38:02.007562+00:00" }    
[2m2019-10-29T09:38:02.019196+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=2d48bef3-789d-4e33-b827-1504185e238b prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:02.019333+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 833af7af-4445-4867-a775-18258bcac174 because there were no open subscriptions    
[2m2019-10-29T09:38:02.019457+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account 833af7af-4445-4867-a775-18258bcac174: PaymentNotification { to_username: Username("bob_on_b"), from_username: Username("a_on_b"), destination: Address("example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U"), amount: 1000, timestamp: "2019-10-29T09:38:02.007562+00:00" }    
[2m2019-10-29T09:38:02.019587+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account 833af7af-4445-4867-a775-18258bcac174 because there were no open subscriptions    
[2m2019-10-29T09:38:02.019994+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 4294237808    
[2m2019-10-29T09:38:02.020395+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=29e43775-f596-4110-8885-db97f8cd0ed7 prepare.destination=example.parent.bob_on_b.oAKuZf4jRu1ld3ucQf2F4E7GAIVWLrjr1b85oXOzD3U prepare.amount=0 from.id=dacc0e1f-5682-419e-821d-2c7ef558faae[1m}[0m:[1m[0m[1m{[0mfrom.username=alice_on_a from.ilp_address=example.parent.a_on_b.alice_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.bob_on_b[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:02.020580+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:02.020666+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 1000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:02.020742+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 1000 and delivered 1000 of the receiver's units    
[2m2019-10-29T09:38:02.020830+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 1000 of the receiver's units    
[2m2019-10-29T09:38:02.020978+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49321 "POST /accounts/alice_on_a/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 50.664049ms    
[2m2019-10-29T09:38:02.038555+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49328 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.760867ms    
[2m2019-10-29T09:38:02.038555+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49330 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.743568ms    
[2m2019-10-29T09:38:02.051745+00:00 [0m[35mTRACE[0m interledger_spsp::client: Converted payment pointer: http://localhost:3010/accounts/alice_on_a/spsp to URL: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:02.051865+00:00 [0m[35mTRACE[0m interledger_spsp::client: Querying receiver: http://localhost:3010/accounts/alice_on_a/spsp    
[2m2019-10-29T09:38:02.061383+00:00 [0m[34mDEBUG[0m interledger_stream::server: Generated address: example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY    
[2m2019-10-29T09:38:02.061502+00:00 [0m[34mDEBUG[0m interledger_spsp::server: Generated address and secret for: Address("example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY")    
[2m2019-10-29T09:38:02.061675+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49336 "GET /accounts/alice_on_a/spsp HTTP/1.1" 200 "-" "reqwest/0.9.22" 5.083317ms    
[2m2019-10-29T09:38:02.063031+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sending SPSP payment to address: example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY    
[2m2019-10-29T09:38:02.063463+00:00 [0m[34mDEBUG[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d711e751-1526-4b15-ab07-ec0c10a3ed21 prepare.destination=peer.config prepare.amount=0 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ildcp::server: Responding to query for ildcp info by account: Address("example.parent.bob_on_b")    
[2m2019-10-29T09:38:02.063647+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=d711e751-1526-4b15-ab07-ec0c10a3ed21 prepare.destination=peer.config prepare.amount=0 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.063906+00:00 [0m[34mDEBUG[0m interledger_ildcp::client: Got ILDCP response: IldcpResponse { ilp_address: "Address("example.parent.bob_on_b")", asset_code: "XYZ", asset_scale: 9 }    
[2m2019-10-29T09:38:02.064035+00:00 [0m[34mDEBUG[0m interledger_stream::client: Sending packet 1 with amount: 2000 and encrypted STREAM packet: StreamPacket { sequence: 1, ilp_packet_type: Prepare, prepare_amount: 0, frames: [ StreamMoneyFrame { stream_id: 1, shares: 1 }, ConnectionNewAddressFrame { source_account: example.parent.bob_on_b } ] }    
[2m2019-10-29T09:38:02.064219+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Prepare packet of 2000, amount in flight is now: 2000    
[2m2019-10-29T09:38:02.064565+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=ca17e519-0a92-449b-83cd-91e42d36e887 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY". Prefix: "example.parent.a_on_b", account: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.067252+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=ca17e519-0a92-449b-83cd-91e42d36e887 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account 833af7af-4445-4867-a775-18258bcac174 to outgoing amount of: 2000 XYZ (scale 9) for account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.068157+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=ca17e519-0a92-449b-83cd-91e42d36e887 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account 833af7af-4445-4867-a775-18258bcac174 has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:02.068458+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=ca17e519-0a92-449b-83cd-91e42d36e887 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 808766059 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.069362+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 808766059 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY"), amount: 2000, expires_at: "2019-10-29T09:38:31.064+00:00", execution_condition: "de9b9a858c3598c824d8b94f0ca51f6e0c2b6789ede60989468e560adcb0fa69", data_length: 68 }    
[2m2019-10-29T09:38:02.069603+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 808766059 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:02.069939+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=73c46778-4da1-4257-89b4-edca21c9a154 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY". Prefix: "example.parent.a_on_b.alice_on_a", account: dacc0e1f-5682-419e-821d-2c7ef558faae    
[2m2019-10-29T09:38:02.072501+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=73c46778-4da1-4257-89b4-edca21c9a154 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=dacc0e1f-5682-419e-821d-2c7ef558faae prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::exchange_rates_service: Converted incoming amount of: 2000 XYZ (scale 9) from account bc1749e2-e779-467c-b295-7fc20dd2877f to outgoing amount of: 2000 XYZ (scale 9) for account dacc0e1f-5682-419e-821d-2c7ef558faae    
[2m2019-10-29T09:38:02.073258+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=73c46778-4da1-4257-89b4-edca21c9a154 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=dacc0e1f-5682-419e-821d-2c7ef558faae prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_store_redis::store: Processed prepare with incoming amount: 2000. Account bc1749e2-e779-467c-b295-7fc20dd2877f has balance (including prepaid amount): -1000     
[2m2019-10-29T09:38:02.073595+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=73c46778-4da1-4257-89b4-edca21c9a154 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=dacc0e1f-5682-419e-821d-2c7ef558faae prepare.amount=2000[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Fulfilling prepare for amount 2000 with fulfillment: d4c9cfa42469c3f43755cfecedb089703515f602e6f1cf0efa049af313b4406f and encrypted stream packet: StreamPacket { sequence: 1, ilp_packet_type: Fulfill, prepare_amount: 2000, frames: [ StreamMaxMoneyFrame { stream_id: 1, receive_max: 18446744073709551615, total_received: 0 } ] }    
[2m2019-10-29T09:38:02.074100+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=73c46778-4da1-4257-89b4-edca21c9a154 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=d4c9cfa42469c3f43755cfecedb089703515f602e6f1cf0efa049af313b4406f[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.074719+00:00 [0m[34mDEBUG[0m interledger_store_redis::store: Publishing payment notification {"to_username":"alice_on_a","from_username":"b_on_a","destination":"example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY","amount":2000,"timestamp":"2019-10-29T09:38:02.073802+00:00"} for account dacc0e1f-5682-419e-821d-2c7ef558faae    
[2m2019-10-29T09:38:02.074824+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account dacc0e1f-5682-419e-821d-2c7ef558faae for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:02.074966+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:02.075002+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 808766059    
[2m2019-10-29T09:38:02.075583+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=ca17e519-0a92-449b-83cd-91e42d36e887 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=2000 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=d4c9cfa42469c3f43755cfecedb089703515f602e6f1cf0efa049af313b4406f[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.075839+00:00 [0m[34mDEBUG[0m interledger_stream::congestion: Fulfilled packet of 2000, doubling max in flight to: 4000    
[2m2019-10-29T09:38:02.075970+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 1 with amount 2000 was fulfilled (0 left to send)    
[2m2019-10-29T09:38:02.076075+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Processed fulfill for account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f for outgoing amount 2000. Fulfill call result: 1000 0    
[2m2019-10-29T09:38:02.076205+00:00 [0m[34mDEBUG[0m interledger_stream::client: Closing connection    
[2m2019-10-29T09:38:02.076217+00:00 [0m[34mDEBUG[0m interledger_service_util::balance_service: Account balance after fulfill: 1000. Amount that needs to be settled: 0    
[2m2019-10-29T09:38:02.076582+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=169ba4c0-d5d6-424c-8412-8a3668eb0f2a prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY". Prefix: "example.parent.a_on_b", account: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.078580+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account dacc0e1f-5682-419e-821d-2c7ef558faae: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY"), amount: 2000, timestamp: "2019-10-29T09:38:02.073802+00:00" }    
[2m2019-10-29T09:38:02.078696+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account dacc0e1f-5682-419e-821d-2c7ef558faae because there were no open subscriptions    
[2m2019-10-29T09:38:02.078691+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Subscribed message received for account dacc0e1f-5682-419e-821d-2c7ef558faae: PaymentNotification { to_username: Username("alice_on_a"), from_username: Username("b_on_a"), destination: Address("example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY"), amount: 2000, timestamp: "2019-10-29T09:38:02.073802+00:00" }    
[2m2019-10-29T09:38:02.078812+00:00 [0m[35mTRACE[0m interledger_store_redis::store: Ignoring message for account dacc0e1f-5682-419e-821d-2c7ef558faae because there were no open subscriptions    
[2m2019-10-29T09:38:02.083617+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=169ba4c0-d5d6-424c-8412-8a3668eb0f2a prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=bob_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 2032306199 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.084357+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 2032306199 Prepare { destination: Address("example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY"), amount: 0, expires_at: "2019-10-29T09:38:31.076+00:00", execution_condition: "f7c7bf05a455340e1871a16a918e5d49df52942259be4119bd65b9a31c9ff874", data_length: 40 }    
[2m2019-10-29T09:38:02.084595+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 2032306199 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:02.084925+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=fa9b396e-10ef-4633-8f54-636dd4124247 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_router::router: Found matching route for address: "example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY". Prefix: "example.parent.a_on_b.alice_on_a", account: dacc0e1f-5682-419e-821d-2c7ef558faae    
[2m2019-10-29T09:38:02.087658+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=fa9b396e-10ef-4633-8f54-636dd4124247 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=dacc0e1f-5682-419e-821d-2c7ef558faae prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Packet is unfulfillable    
[2m2019-10-29T09:38:02.087800+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=fa9b396e-10ef-4633-8f54-636dd4124247 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1mforwarding[0m[1m{[0mto.id=dacc0e1f-5682-419e-821d-2c7ef558faae prepare.amount=0[1m}[0m:[1m[0m[1m{[0mto.username=b_on_a to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_stream::server: Rejecting Prepare and including encrypted stream packet StreamPacket { sequence: 2, ilp_packet_type: Reject, prepare_amount: 0, frames: [  ] }    
[2m2019-10-29T09:38:02.088085+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=fa9b396e-10ef-4633-8f54-636dd4124247 prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:02.088713+00:00 [0m[35mTRACE[0m interledger_btp::service: Got reject response to request id 2032306199    
[2m2019-10-29T09:38:02.089044+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1mapi[0m:[1mincoming[0m[1m{[0mrequest.id=169ba4c0-d5d6-424c-8412-8a3668eb0f2a prepare.destination=example.parent.a_on_b.alice_on_a.hLLaP0q9VJ3P-ydsCDYXEsac3dh3YjjnwLkS32G72HY prepare.amount=0 from.id=833af7af-4445-4867-a775-18258bcac174[1m}[0m:[1m[0m[1m{[0mfrom.username=bob_on_b from.ilp_address=example.parent.bob_on_b from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mreject.code=F99 reject.message= reject.triggered_by=example.parent.a_on_b.alice_on_a[1m}[0m: interledger-node: result="reject"
[2m2019-10-29T09:38:02.089232+00:00 [0m[34mDEBUG[0m interledger_stream::client: Prepare 2 with amount 0 was rejected with code: F99 (0 left to send)    
[2m2019-10-29T09:38:02.089315+00:00 [0m[34mDEBUG[0m interledger_stream::client: Send money future finished. Delivered: 2000 (2 packets fulfilled, 1 packets rejected)    
[2m2019-10-29T09:38:02.089412+00:00 [0m[34mDEBUG[0m interledger_spsp::client: Sent SPSP payment of 2000 and delivered 2000 of the receiver's units    
[2m2019-10-29T09:38:02.089500+00:00 [0m[34mDEBUG[0m interledger_api::routes::accounts: Sent SPSP payment and delivered: 2000 of the receiver's units    
[2m2019-10-29T09:38:02.089655+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49333 "POST /accounts/bob_on_b/payments HTTP/1.1" 200 "-" "reqwest/0.9.22" 45.116107ms    
[2m2019-10-29T09:38:02.095537+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.095674+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.095692+00:00 [0m[35mTRACE[0m interledger_ccp::server: Checking accounts to skip    
[2m2019-10-29T09:38:02.095774+00:00 [0m[35mTRACE[0m interledger_ccp::server: Skipping accounts: []    
[2m2019-10-29T09:38:02.096790+00:00 [0m[35mTRACE[0m interledger_ccp::server: No accounts to broadcast routes to    
[2m2019-10-29T09:38:02.098942+00:00 [0m[35mTRACE[0m interledger_ccp::server: Sending route update for epochs 1 - 1 to accounts: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] } a_on_b (id: bb4ae1bd-55d7-464f-83d0-18e5d3338d5f, ilp_address: example.parent.a_on_b)    
[2m2019-10-29T09:38:02.099198+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=4614e38a-bdb4-4e05-b4a7-a39facd1902b prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_service_util::expiry_shortener_service: Shortening packet expiry duration to 30000ms in the future    
[2m2019-10-29T09:38:02.099394+00:00 [0m[35mTRACE[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=4614e38a-bdb4-4e05-b4a7-a39facd1902b prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m: interledger_btp::service: Sending outgoing request 3143860811 to account bb4ae1bd-55d7-464f-83d0-18e5d3338d5f    
[2m2019-10-29T09:38:02.100123+00:00 [0m[35mTRACE[0m interledger_btp::service: Got incoming Prepare packet on request ID: 3143860811 Prepare { destination: Address("peer.route.update"), amount: 0, expires_at: "2019-10-29T09:38:32.099+00:00", execution_condition: "66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925", data_length: 51 }    
[2m2019-10-29T09:38:02.100396+00:00 [0m[35mTRACE[0m interledger_btp::service: Handling incoming request 3143860811 from account: b_on_a (id: bc1749e2-e779-467c-b295-7fc20dd2877f)    
[2m2019-10-29T09:38:02.100921+00:00 [0m[34mDEBUG[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=5ec5f76b-d388-412e-99c9-38f3ec54e949 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Got route update request from account bc1749e2-e779-467c-b295-7fc20dd2877f: RouteUpdateRequest { routing_table_id: "4669f4179b2ab8ee4c3890d430a9c868", current_epoch_index: 1, from_epoch_index: 1, to_epoch_index: 1, hold_down_time: 30000, speaker: Address("example.parent"), new_routes: [], withdrawn_routes: [] }    
[2m2019-10-29T09:38:02.101131+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=5ec5f76b-d388-412e-99c9-38f3ec54e949 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Got heartbeat route update for table ID: 4669f4179b2ab8ee4c3890d430a9c868, epoch: 1    
[2m2019-10-29T09:38:02.101301+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=5ec5f76b-d388-412e-99c9-38f3ec54e949 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::routing_table: Updated routing table 4669f4179b2ab8ee4c3890d430a9c868 to epoch: 1    
[2m2019-10-29T09:38:02.101472+00:00 [0m[35mTRACE[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=5ec5f76b-d388-412e-99c9-38f3ec54e949 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m: interledger_ccp::server: Route update request did not contain any prefixes we need to update our routes for    
[2m2019-10-29T09:38:02.101656+00:00 [0m[32m INFO[0m [1mnode_a[0m:[1mbtp[0m:[1mincoming[0m[1m{[0mrequest.id=5ec5f76b-d388-412e-99c9-38f3ec54e949 prepare.destination=peer.route.update prepare.amount=0 from.id=bc1749e2-e779-467c-b295-7fc20dd2877f[1m}[0m:[1m[0m[1m{[0mfrom.username=b_on_a from.ilp_address=local.host.b_on_a from.asset_code=XYZ from.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.102347+00:00 [0m[35mTRACE[0m interledger_btp::service: Got fulfill response to request id 3143860811    
[2m2019-10-29T09:38:02.102632+00:00 [0m[32m INFO[0m [1mnode_b[0m:[1moutgoing[0m[1m{[0mrequest.id=4614e38a-bdb4-4e05-b4a7-a39facd1902b prepare.destination=peer.route.update from.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f to.id=bb4ae1bd-55d7-464f-83d0-18e5d3338d5f[1m}[0m:[1m[0m[1m{[0mfrom.username=a_on_b from.ilp_address=example.parent.a_on_b from.asset_code=XYZ from.asset_scale=9 to.username=a_on_b to.asset_code=XYZ to.asset_scale=9[1m}[0m:[1m[0m[1m{[0mfulfillment=0000000000000000000000000000000000000000000000000000000000000000[1m}[0m: interledger-node: result="fulfill"
[2m2019-10-29T09:38:02.102854+00:00 [0m[35mTRACE[0m interledger_ccp::server: Updating unavailable accounts    
[2m2019-10-29T09:38:02.110431+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49342 "GET /accounts/bob_on_b/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 8.978509ms    
[2m2019-10-29T09:38:02.111290+00:00 [0m[32m INFO[0m interledger-api: 127.0.0.1:49340 "GET /accounts/alice_on_a/balance HTTP/1.1" 200 "-" "reqwest/0.9.22" 9.624369ms    
[2m2019-10-29T09:38:02.114768+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
[2m2019-10-29T09:38:02.114817+00:00 [0m[33m WARN[0m interledger_store_redis::store: Could not issue psubscribe to Redis: Could not read enough bytes    
test two_nodes_btp ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

